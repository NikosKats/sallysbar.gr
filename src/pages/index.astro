---
import "../styles/global.css";
import SeasonBanner from "../components/SeasonBanner.astro";
import StickyCta from "../components/StickyCta.astro";
import { site } from "../data/site";

const title = `${site.name} – ${site.tagline}`;
const desc = site.description;
const year = new Date().getFullYear();
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>{title}</title>
    <meta name="description" content={desc} />
    <link rel="canonical" href="https://sallysbar.gr/" />

    <!-- Open Graph -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={desc} />
    <meta property="og:type" content="website" />

    <!-- Google Business Schema -->
    <script
      type="application/ld+json"
      set:html={JSON.stringify({
        "@context": "https://schema.org",
        "@type": "BarOrPub",
        name: site.name,
        address: {
          "@type": "PostalAddress",
          streetAddress: site.addressShort,
          addressLocality: "Skala",
          addressRegion: "Kefalonia",
          postalCode: "28086",
          addressCountry: "GR"
        },
        telephone: site.phoneE164,
        url: "https://sallysbar.gr",
      })}
    />
  </head>

  <body class="min-h-screen bg-[#0b0b10] text-white">

    <!-- HERO -->
    <section class="mx-auto max-w-6xl px-6 pt-16 pb-10">

      <div class="text-xs uppercase tracking-[0.25em] text-white/60">
        Skala • Kefalonia
      </div>

      <h1 class="mt-4 text-5xl font-semibold leading-tight md:text-7xl">
        {site.name}
      </h1>

      <p class="mt-6 max-w-2xl text-xl text-white/70">
        <span class="text-white font-semibold">{site.tagline}</span><br/>
        Friendly faces, premium cocktails, and unforgettable nights —
        elegant after dinner, vibrant as the night unfolds.
      </p>

      <div class="mt-6">
        <SeasonBanner
          isOpenNow={site.season.isOpenNow}
          opensFromText={site.season.opensFromText}
        />
      </div>

      <!-- CTA -->
      <div class="mt-8 flex flex-wrap gap-3">

        <a
          href={site.mapsShareUrl}
          target="_blank"
          class="rounded-2xl bg-white px-6 py-3 font-semibold text-black hover:bg-white/90"
        >
          Get Directions
        </a>

        {site.season.isOpenNow ? (
          <a
            href={`tel:${site.phoneE164}`}
            class="rounded-2xl border border-white/20 px-6 py-3 font-semibold hover:bg-white/10"
          >
            Call Now
          </a>
        ) : (
          <a
            href={site.socials.instagram}
            target="_blank"
            class="rounded-2xl border border-white/20 px-6 py-3 font-semibold hover:bg-white/10"
          >
            Follow Instagram
          </a>
        )}

      </div>

      <!-- Social proof -->
      <div class="mt-8 flex flex-wrap gap-3 text-sm text-white/70">

        <div class="rounded-full border border-white/10 px-3 py-1">
          ⭐ {site.ratings.google.rating} Google Rating
        </div>

        <div class="rounded-full border border-white/10 px-3 py-1">
          {site.hours.text}
        </div>

        <div class="rounded-full border border-white/10 px-3 py-1">
          {site.addressFull}
        </div>

      </div>
    </section>


    <!-- WHY VISIT -->
    <section class="mx-auto max-w-6xl px-6 py-10 grid gap-6 md:grid-cols-3">

      <div class="rounded-2xl border border-white/10 p-6 bg-white/5">
        <h2 class="text-xl font-semibold">Friendly Staff</h2>
        <p class="mt-3 text-white/70">
          Welcoming service that makes travelers return during the same trip.
        </p>
      </div>

      <div class="rounded-2xl border border-white/10 p-6 bg-white/5">
        <h2 class="text-xl font-semibold">Premium Cocktails</h2>
        <p class="mt-3 text-white/70">
          Crafted with quality spirits — made for a proper night out.
        </p>
      </div>

      <div class="rounded-2xl border border-white/10 p-6 bg-white/5">
        <h2 class="text-xl font-semibold">Atmosphere & Location</h2>
        <p class="mt-3 text-white/70">
          Perfect after dinner and easy to reach in the heart of Skala.
        </p>
      </div>

    </section>


    <!-- MAP -->
    <section class="mx-auto max-w-6xl px-6 py-12">

      <h2 class="text-3xl font-semibold">
        Visit Sally’s Tonight
      </h2>

      <div class="mt-6 overflow-hidden rounded-2xl border border-white/10">
        <iframe
          class="w-full h-[420px] border-0"
          src="https://www.google.com/maps?q=Sally%27s%20Bar%20Skala%20Kefalonia&output=embed"
          loading="lazy">
        </iframe>
      </div>

    </section>


    <footer class="mx-auto max-w-6xl px-6 py-12 text-white/60 text-sm">
      © {year} {site.name} • {site.addressFull}
    </footer>

    <StickyCta
      mapsUrl={site.mapsShareUrl}
      phoneE164={site.phoneE164}
      instagramUrl={site.socials.instagram}
      isOpenNow={site.season.isOpenNow}
    />

  </body>
</html>
