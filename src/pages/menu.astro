---
import "../styles/global.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import StickyCta from "../components/StickyCta.astro";
import { site } from "../data/site";
import { menu } from "../data/menu";

const title = `Menu • ${site.name}`;
const desc = `Cocktails, beer, wine and spirits at ${site.name} in Skala, Kefalonia.`;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={desc} />
    <link rel="canonical" href="https://sallysbar.gr/menu" />
  </head>

  <body class="min-h-screen bg-[#0b0b10] text-white font-body pb-24 md:pb-0">
    <Header />

    <main class="mx-auto max-w-3xl px-6 py-10">
      <h1 class="text-4xl font-semibold md:text-5xl">Menu</h1>
      <p class="mt-2 text-white/70">
        Cocktails €5–10 • {site.hours.text}
      </p>

      <!-- Quick jump chips -->
      <div class="mt-6 flex flex-wrap gap-2">
        {menu.map((s) => (
          <a
            href={`#${s.id}`}
            class="rounded-full border border-white/15 px-4 py-2 text-sm text-white/80 hover:text-white hover:bg-white/10 transition"
          >
            {s.title}
          </a>
        ))}
      </div>

      <div class="mt-10 space-y-10">
        {menu.map((section) => (
          <section id={section.id} class="scroll-mt-24">
            <div class="flex items-end justify-between gap-4">
              <h2 class="text-2xl font-semibold">{section.title}</h2>
              {section.note && <p class="text-sm text-white/60">{section.note}</p>}
            </div>

            {section.items.length === 0 ? (
              <div class="mt-4 rounded-2xl border border-white/10 bg-white/5 p-5 text-sm text-white/60">
                Coming soon.
              </div>
            ) : (
              <div class="mt-4 divide-y divide-white/10 rounded-2xl border border-white/10 bg-white/5">
                {section.items.map((item) => (
                  <div class="flex items-start justify-between gap-6 p-5">
                    <div>
                      <div class="flex flex-wrap items-center gap-2">
                        <div class="font-semibold">{item.name}</div>
                        {item.tags?.map((t) => (
                          <span class="rounded-full border border-white/10 bg-black/30 px-2 py-0.5 text-xs text-white/70">
                            {t}
                          </span>
                        ))}
                        {item.abv && (
                          <span class="rounded-full border border-white/10 bg-black/30 px-2 py-0.5 text-xs text-white/60">
                            {item.abv}
                          </span>
                        )}
                      </div>
                      {item.desc && <p class="mt-1 text-sm text-white/70">{item.desc}</p>}
                    </div>

                    {item.price && (
                      <div class="shrink-0 rounded-full border border-white/10 bg-black/30 px-3 py-1 text-sm text-white/80">
                        {item.price}
                      </div>
                    )}
                  </div>
                ))}
              </div>
            )}
          </section>
        ))}
      </div>

      <div class="mt-10 rounded-2xl border border-white/10 bg-white/5 p-5 text-sm text-white/70">
        Allergies? Ask our staff. Prices may vary during events.
      </div>
    </main>

    <Footer />

    <StickyCta
      mapsUrl={site.mapsShareUrl}
      phoneE164={site.phoneE164}
      instagramUrl={site.socials.instagram}
      facebookUrl={site.socials.facebook}
      tripadvisorUrl={site.socials.tripadvisor}
    />
  </body>
</html>
