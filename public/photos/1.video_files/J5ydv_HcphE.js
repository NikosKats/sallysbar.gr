;/*FB_PKG_DELIM*/

__d("CAAFetaSavePasswordInterstitialDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9971025792955102"}),null);
__d("StoriesFeedbackDraftEditor.react",["fbt","CometComponentWithKeyCommands.react","CometPressable.react","DeferredDraftEditorDEPRECATED.react","EditorState","FDSIcon.react","SelectionState","StoriesFeedbackEditorStateContext","StoriesFeedbackStickerRepliesWrapper.react","StoriesGating","StoriesLoggerContext","StoriesLoggingConstants","StoriesSendFilled20IconSVG.react","cr:8200","getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE","isStringNullOrEmpty","react","react-compiler-runtime","useGlobalEventListener","useStoriesFeedbackKeyboardCommandsConfig","useStoriesSendReply"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext,p=c.useEffect,_=c.useRef,f=c.useState,g=o("StoriesGating").shouldEnableStoriesReplyBarRevampLaunch(),h={input:{overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},inputWOComments:{height:"x17rw0jw",$$css:!0},placeholderStyle:{color:"x17z8epw",$$css:!0},sendButton:{marginInlineStart:"xdwrcjd",$$css:!0}};function y(e){var t=o("react-compiler-runtime").c(91),a=e.cardID,i=e.feedbackParentRef,l=e.isCoversationStarter,c=e.onBlur,d=e.onFocus,y=e.onSend,v=e.ownerName,S=e.placeholder,R=f(!1),L=R[0],E=R[1],k=f(!1),I=k[0],T=k[1],D=m(r("StoriesFeedbackEditorStateContext")),x=D.contextualReplyRef,$=D.contextualReplyShown,P=D.contextualReplyTapped,N=D.editorState,M=D.inputFocused,w=D.mostRecentTappedID,A=D.onEmojiSelect,F=D.resetEditorState,O=D.setContextualReplyTapped,B=D.setEditorState,W=D.setMostRecentTappedID,q=r("useStoriesSendReply")(v),U=q.sendGif,V=q.sendSticker,H=m(r("StoriesLoggerContext")),G=H.logger,z=_(null),j=_(!1),K=_(!1),Q=_(null),X;t[0]!==O||t[1]!==W?(X=function(){O(!1),T(!1),W(null)},t[0]=O,t[1]=W,t[2]=X):X=t[2];var Y;t[3]!==a||t[4]!==O||t[5]!==W?(Y=[a,O,T,W],t[3]=a,t[4]=O,t[5]=W,t[6]=Y):Y=t[6],p(X,Y);var J;t[7]!==P?(J=function(t){var e=Q.current;if(!(e&&t.target instanceof Node&&!t.target.contains(e))){var n=String.fromCharCode(t.keyCode);n.match(/\w/)&&(Q.current&&Q.current.focus(),P&&T(!0))}},t[7]=P,t[8]=J):J=t[8],r("useGlobalEventListener")("keydown",J);var Z;t[9]!==c?(Z=function(t){var e=t===void 0?!0:t;j.current||K.current||(window.clearTimeout(z.current),z.current=window.setTimeout(function(){E(!1),c(),e&&Q.current&&Q.current.blur()}))},t[9]=c,t[10]=Z):Z=t[10];var ee=Z,te;t[11]!==N?(te=r("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(N).trim(),t[11]=N,t[12]=te):te=t[12];var ne=te,re;t[13]!==l||t[14]!==d||t[15]!==S||t[16]!==B||t[17]!==ne?(re=function(t){var e=t===void 0?!0:t;if(window.clearTimeout(z.current),e){if(l===!0&&ne.length===0){var n=r("EditorState").createWithText(S),o=n.getSelection(),a=new(r("SelectionState"))({anchorKey:o.getAnchorKey(),anchorOffset:S.length,focusKey:o.getFocusKey(),focusOffset:S.length,hasFocus:!0,isBackward:!1});B({__type:r("DeferredDraftEditorDEPRECATED.react").EDITOR_STATE,draftEditorState:r("EditorState").forceSelection(n,a)})}E(!0),d()}},t[13]=l,t[14]=d,t[15]=S,t[16]=B,t[17]=ne,t[18]=re):re=t[18];var oe=re,ae;t[19]!==i||t[20]!==L||t[21]!==ee?(ae=function(t){var e,n=t.target;L&&(n===i.current||n instanceof Node&&i!=null&&(e=i.current)!=null&&e.contains(n)||ee())},t[19]=i,t[20]=L,t[21]=ee,t[22]=ae):ae=t[22],r("useGlobalEventListener")("click",ae);var ie=ne==="",le;t[23]!==$||t[24]!==P||t[25]!==I||t[26]!==ee||t[27]!==ie||t[28]!==G||t[29]!==w||t[30]!==y||t[31]!==F||t[32]!==ne?(le=function(){ie||(y(ne),$&&G.replySentWhenSmartReplyShownLog(I,w,P,r("StoriesLoggingConstants").STORY_REPLY_TYPE.TEXT_SUGGESTION),F(),ee())},t[23]=$,t[24]=P,t[25]=I,t[26]=ee,t[27]=ie,t[28]=G,t[29]=w,t[30]=y,t[31]=F,t[32]=ne,t[33]=le):le=t[33];var se=le,ue;t[34]!==a||t[35]!==ee||t[36]!==G||t[37]!==V?(ue=function(t){var e=t.stickerID;r("isStringNullOrEmpty")(e)||(V({stickerID:e,storyID:a},G),ee())},t[34]=a,t[35]=ee,t[36]=G,t[37]=V,t[38]=ue):ue=t[38];var ce=ue,de;t[39]!==a||t[40]!==ee||t[41]!==G||t[42]!==U?(de=function(t){U({gifUrl:t.source.url,storyID:a},G),ee()},t[39]=a,t[40]=ee,t[41]=G,t[42]=U,t[43]=de):de=t[43];var me=de,pe;t[44]!==ee||t[45]!==se?(pe={onEnter:se,onEscape:ee},t[44]=ee,t[45]=se,t[46]=pe):pe=t[46];var _e=r("useStoriesFeedbackKeyboardCommandsConfig")(pe),fe;t[47]===Symbol.for("react.memo_cache_sentinel")?(fe={className:"x6s0dn4 x78zum5 x1q0g3np xh8yej3"},t[47]=fe):fe=t[47];var ge;t[48]!==x||t[49]!==ee?(ge=function(t){x.current!=null&&x.current.contains(t.relatedTarget)||ee(t.target===Q.current)},t[48]=x,t[49]=ee,t[50]=ge):ge=t[50];var he;t[51]!==oe?(he=function(t){oe(t.target===Q.current)},t[51]=oe,t[52]=he):he=t[52];var ye;t[53]===Symbol.for("react.memo_cache_sentinel")?(ye=[h.input,h.inputWOComments],t[53]=ye):ye=t[53];var Ce;t[54]===Symbol.for("react.memo_cache_sentinel")?(Ce=function(t){Q.current=t},t[54]=Ce):Ce=t[54];var be;t[55]!==B?(be=function(t){B(t)},t[55]=B,t[56]=be):be=t[56];var ve;t[57]===Symbol.for("react.memo_cache_sentinel")?(ve=g?{placeholderXStyle:h.placeholderStyle}:{},t[57]=ve):ve=t[57];var Se;t[58]!==N||t[59]!==S||t[60]!==be?(Se=u.jsx(r("DeferredDraftEditorDEPRECATED.react"),babelHelpers.extends({customStyleFn:b,editorState:N,handleReturn:C,onInputRefUpdate:Ce,onStateChange:be,placeholder:S},ve)),t[58]=N,t[59]=S,t[60]=be,t[61]=Se):Se=t[61];var Re;t[62]!==_e||t[63]!==Se?(Re=u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:_e,xstyle:ye,children:Se}),t[62]=_e,t[63]=Se,t[64]=Re):Re=t[64];var Le;t[65]!==L||t[66]!==M?(Le={0:{className:"x6s0dn4 x78zum5 x1my54xf"},1:{className:"x6s0dn4 x78zum5 x1my54xf x1qvwoe0 xjm9jq1 x6ikm8r x10wlt62 x10l6tqk xuxw1ft x1i1rx1s"}}[(!L&&!M)<<0],t[65]=L,t[66]=M,t[67]=Le):Le=t[67];var Ee;t[68]!==me||t[69]!==ce||t[70]!==A?(Ee=!o("StoriesGating").shouldEnableArmadilloStoryReply()&&g&&u.jsx(r("StoriesFeedbackStickerRepliesWrapper.react"),{onEmojiSelect:A,onGifSelect:me,onStickerSelect:ce,onVisibilityChange:function(t){K.current=t}}),t[68]=me,t[69]=ce,t[70]=A,t[71]=Ee):Ee=t[71];var ke;t[72]!==A?(ke=n("cr:8200")&&o("StoriesGating").shouldEnableArmadilloStoryReply()&&u.jsx(n("cr:8200"),{onEmojiSelect:A,onVisibilityChange:function(t){K.current=t}}),t[72]=A,t[73]=ke):ke=t[73];var Ie;t[74]===Symbol.for("react.memo_cache_sentinel")?(Ie=s._(/*BTDS*/"\u039a\u03bf\u03c5\u03bc\u03c0\u03af \u03b1\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae\u03c2 \u03b3\u03b9\u03b1 \u03b1\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7 \u03ba\u03b5\u03b9\u03bc\u03ad\u03bd\u03bf\u03c5 \u03c3\u03c4\u03b7\u03bd \u03b9\u03c3\u03c4\u03bf\u03c1\u03af\u03b1"),t[74]=Ie):Ie=t[74];var Te=ie?"disabled":"white",De;t[75]!==Te?(De=u.jsx(r("FDSIcon.react"),{color:Te,icon:r("StoriesSendFilled20IconSVG.react"),size:20}),t[75]=Te,t[76]=De):De=t[76];var xe;t[77]!==se||t[78]!==ie||t[79]!==De?(xe=u.jsx(r("CometPressable.react"),{"aria-label":Ie,disabled:ie,hideHoverOverlay:!0,onPress:se,testid:void 0,xstyle:h.sendButton,children:De}),t[77]=se,t[78]=ie,t[79]=De,t[80]=xe):xe=t[80];var $e;t[81]!==Le||t[82]!==Ee||t[83]!==ke||t[84]!==xe?($e=u.jsxs("div",babelHelpers.extends({},Le,{children:[Ee,ke,xe]})),t[81]=Le,t[82]=Ee,t[83]=ke,t[84]=xe,t[85]=$e):$e=t[85];var Pe;return t[86]!==ge||t[87]!==he||t[88]!==Re||t[89]!==$e?(Pe=u.jsxs("div",babelHelpers.extends({},fe,{onBlurCapture:ge,onFocusCapture:he,children:[Re,$e]})),t[86]=ge,t[87]=he,t[88]=Re,t[89]=$e,t[90]=Pe):Pe=t[90],Pe}function C(e){return e.preventDefault(),"handled"}function b(){return{caretColor:"white",whiteSpace:"pre",wordWrap:"normal"}}l.default=y}),226);