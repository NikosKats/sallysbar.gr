;/*FB_PKG_DELIM*/

__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("73"),s=o("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",e),u=s;l.default=u}),98);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("39"),s=o("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",e),u=s;l.default=u}),98);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("74"),s=o("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",e),u=s;l.default=u}),98);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("75"),s=o("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",e),u=s;l.default=u}),98);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("76"),s=o("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",e),u=s;l.default=u}),98);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("44"),s=o("FalcoLoggerInternal").create("audio_clips_playback_pause",e),u=s;l.default=u}),98);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("45"),s=o("FalcoLoggerInternal").create("audio_clips_playback_resume",e),u=s;l.default=u}),98);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("47"),s=o("FalcoLoggerInternal").create("audio_clips_playback_start",e),u=s;l.default=u}),98);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("51"),s=o("FalcoLoggerInternal").create("audio_clips_start_recording_click",e),u=s;l.default=u}),98);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("52"),s=o("FalcoLoggerInternal").create("audio_clips_stop_recording_click",e),u=s;l.default=u}),98);
__d("MessageFeedbackType",[],(function(t,n,r,o,a,i){var e=Object.freeze({POSITIVE:0,NEGATIVE:1});i.default=e}),66);
__d("LSSubmitMessageFeedback",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("feedback_type",e[0]),r[0].set("message_id",e[1]),r[0].set("page_id",e[2]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"submit_message_feedback",t.i64.cast([0,811]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxSubmitMessageFeedbackStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSSubmitMessageFeedbackStoredProcedure",["LSSubmitMessageFeedback","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSubmitMessageFeedback"),a.feedbackType,a.messageId,a.pageId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("useSubmitBusinessMessageFeedbackAction",["LSFactory","LSIntEnum","LSSubmitMessageFeedbackStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(t,n,a,l){var u=o("react-compiler-runtime").c(6),c=(e||(e=r("useReStore")))(),d;return u[0]!==l||u[1]!==c||u[2]!==a||u[3]!==t||u[4]!==n?(d=function(){r("promiseDone")(c.runInTransaction(function(e){return r("LSSubmitMessageFeedbackStoredProcedure")(r("LSFactory")(e),{feedbackType:(s||(s=o("LSIntEnum"))).ofNumber(a),messageId:t,pageId:n})},"readwrite",void 0,void 0,i.id+":38"),l)},u[0]=l,u[1]=c,u[2]=a,u[3]=t,u[4]=n,u[5]=d):d=u[5],d}l.default=d}),98);
__d("useBusinessMessageNegativeFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=r("useGenAiFeedbackSubmittedToast")(e),a=r("useSubmitBusinessMessageFeedbackAction")(e==null?void 0:e.messageId,e==null?void 0:e.senderId,r("MessageFeedbackType").NEGATIVE,n),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"\u039a\u03b1\u03ba\u03ae \u03b1\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7"),t[0]=i):i=t[0];var l=i,u;return t[1]!==a?(u=[a,l],t[1]=a,t[2]=u):u=t[2],u}l.default=e}),226);
__d("BusinessMessageNegativeFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessageNegativeFeedback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=r("useBusinessMessageNegativeFeedback")(n),i=a[0],l=a[1],u;return t[0]!==i||t[1]!==l?(u=s.jsx(r("MWXMenuItem.react"),{"aria-label":l,onClick:i,primaryText:l,testid:void 0}),t[0]=i,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("useBusinessMessagePositiveFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=r("useGenAiFeedbackSubmittedToast")(e),a=r("useSubmitBusinessMessageFeedbackAction")(e==null?void 0:e.messageId,e==null?void 0:e.senderId,r("MessageFeedbackType").POSITIVE,n),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"\u039a\u03b1\u03bb\u03ae \u03b1\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7"),t[0]=i):i=t[0];var l=i,u;return t[1]!==a?(u=[a,l],t[1]=a,t[2]=u):u=t[2],u}l.default=e}),226);
__d("BusinessMessagePositiveFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessagePositiveFeedback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=r("useBusinessMessagePositiveFeedback")(n),i=a[0],l=a[1],u;return t[0]!==i||t[1]!==l?(u=s.jsx(r("MWXMenuItem.react"),{"aria-label":l,onClick:i,primaryText:l,testid:void 0}),t[0]=i,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("ChangeVoteFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5497"),s=o("FalcoLoggerInternal").create("change_vote",e),u=s;l.default=u}),98);
__d("cometMessengerFileUploadComposerPluginSupportedTypes",[],(function(t,n,r,o,a,i){"use strict";var e=["photo","video","file"],l=e;i.default=l}),66);
__d("useCometMessengerFileUploadPaste",["react","react-compiler-runtime","useCometLexicalFileDragAndDrop"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(6),n=e.editor,a=e.handlePastedFiles,i=e.isMimeTypeAcceptable,l;t[0]!==a?(l=function(t){t.length>0&&a(t)},t[0]=a,t[1]=l):l=t[1];var s=l,u;t[2]!==n||t[3]!==i||t[4]!==s?(u={editor:n,isMimeTypeAcceptable:i,onSubmit:s},t[2]=n,t[3]=i,t[4]=s,t[5]=u):u=t[5],r("useCometLexicalFileDragAndDrop")(u)}l.default=u}),98);
__d("CometMessengerHandlePastedFileComposerPlugin",["cometIsMimeTypeForMedia","cometMessengerFileUploadComposerPluginSupportedTypes","react-compiler-runtime","useCometMessengerFileUploadPaste"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e.kind!=="file")return!1;for(var t of r("cometMessengerFileUploadComposerPluginSupportedTypes"))switch(t){case"photo":if(o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(e.type))return!0;break;case"video":if(o("cometIsMimeTypeForMedia").isMimeTypeForVideo(e.type))return!0;break;case"file":if(o("cometIsMimeTypeForMedia").isMimeTypeForFile(e.type))return!0;break;default:}return!1}function s(t){var n=o("react-compiler-runtime").c(3),a=t.editor,i=t.handlePastedFiles,l;return n[0]!==a||n[1]!==i?(l={editor:a,handlePastedFiles:i,isMimeTypeAcceptable:e},n[0]=a,n[1]=i,n[2]=l):l=n[2],r("useCometMessengerFileUploadPaste")(l),null}l.default=s}),98);
__d("CreatorMessagingRecipientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4151"),s=o("FalcoLoggerInternal").create("creator_messaging_recipient",e),u=s;l.default=u}),98);
__d("EbFetchTimeoutMsForMLv2",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("justknobx")._("3074")}l.default=e}),98);
__d("ExistingPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5498"),s=o("FalcoLoggerInternal").create("existing_poll_submit_error",e),u=s;l.default=u}),98);
__d("ExistingPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5499"),s=o("FalcoLoggerInternal").create("existing_poll_submit_success",e),u=s;l.default=u}),98);
__d("GroupPollEvent",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({START_NEW_POLL:"start_new_poll",SUBMIT_NEW_POLL:"submit_new_poll",NEW_POLL_SUBMIT_ERROR:"new_poll_submit_error",NEW_POLL_SUBMIT_SUCCESS:"new_poll_submit_success",OPEN_EXISTING_POLL:"open_existing_poll",CHANGE_VOTE:"change_vote",SHOW_VOTERS:"show_voters",SUBMIT_EXISTING_POLL:"submit_existing_poll",EXISTING_POLL_SUBMIT_ERROR:"existing_poll_submit_error",EXISTING_POLL_SUBMIT_SUCCESS:"existing_poll_submit_success"}),l=e;i.default=l}),66);
__d("LSDeleteMessageStoredProcedure",["LSDeleteMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSDeleteMessage"),a.threadKey,a.messageId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSOptimisticSetOrUnsetPinnedMessage",["LSIssueNewTask","LSShimThreadPinMessage.nop","LSShimThreadUnpinMessage.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.i64.neq(e[1],void 0)?t.i64.eq(e[3],t.i64.cast([0,1]))||t.i64.eq(e[3],t.i64.cast([0,2]))?t.sequence([function(r){return t.nativeOperation(n("LSShimThreadPinMessage.nop"),e[0],e[2],e[1])},function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[6]=n.syncGroup,t.i64.neq(r[6],void 0)?r[5]=r[6]:r[5]=t.i64.cast([0,1]),r[0]=r[5])})},function(o){return r[2]=new t.Map,r[2].set("armadillo_thread_key",e[1]),r[2].set("offline_threading_id",e[0]),r[2].set("timestamp_ms",e[2]),r[2].set("sync_group",r[0]),r[3]=r[2].get("timestamp_ms"),r[4]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),["e2ee_pin_msg","_",t.i64.to_string(r[3])].join(""),t.i64.cast([0,1010]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):t.sequence([function(r){return t.nativeOperation(n("LSShimThreadUnpinMessage.nop"),e[0],e[1])},function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[6]=n.syncGroup,t.i64.neq(r[6],void 0)?r[5]=r[6]:r[5]=t.i64.cast([0,1]),r[0]=r[5])})},function(o){return r[2]=new t.Map,r[2].set("armadillo_thread_key",e[1]),r[2].set("offline_threading_id",e[0]),r[2].set("timestamp_ms",e[2]),r[2].set("sync_group",r[0]),r[3]=r[2].get("timestamp_ms"),r[4]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),["e2ee_unpin_msg","_",t.i64.to_string(r[3])].join(""),t.i64.cast([0,1011]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):t.resolve()},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxOptimisticSetOrUnsetPinnedMessageStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure",["LSOptimisticSetOrUnsetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticSetOrUnsetPinnedMessage"),a.offlineThreadingId,a.threadKey,a.timestampMs,a.state);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSOptimisticSetPinnedMessage",["LSIssueNewTaskWithExtraOperations","LSSetPinnedMessage"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.i64.eq(e[3],t.i64.cast([0,2]))?t.storedProcedure(n("LSSetPinnedMessage"),e[0],e[1],e[2],t.i64.cast([0,1])):t.storedProcedure(n("LSSetPinnedMessage"),e[0],e[1],e[2],e[3])},function(o){return t.i64.eq(e[3],t.i64.cast([0,2]))?(r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("message_id",e[1]),r[0].set("timestamp_ms",e[2]),r[0].set("pinned_location",t.i64.cast([0,1])),r[1]=r[0].get("thread_key"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",t.i64.to_string(r[1])].join(""),t.i64.cast([0,430]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))):t.i64.eq(e[3],t.i64.cast([0,1]))?(r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("message_id",e[1]),r[0].set("timestamp_ms",e[2]),r[0].set("should_replace_oldest_pin",e[4]),r[1]=r[0].get("thread_key"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",t.i64.to_string(r[1])].join(""),t.i64.cast([0,430]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))):t.i64.eq(e[3],t.i64.cast([0,0]))?(r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("message_id",e[1]),r[0].set("timestamp_ms",e[2]),r[1]=r[0].get("thread_key"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),["unpin_msg_v2","_",t.i64.to_string(r[1])].join(""),t.i64.cast([0,431]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))):t.resolve(0)}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticSetPinnedMessageStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSOptimisticSetPinnedMessageStoredProcedure",["LSOptimisticSetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticSetPinnedMessage"),a.threadKey,a.messageId,a.pinnedTimestampMs,a.state,a.shouldReplaceOldestPin);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSPinnedMessageState",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_PINNED:0,PINNED:1,PINNED_AND_FEATURED:2});i.default=e}),66);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("153"),s=o("FalcoLoggerInternal").create("ls_1lc_feature_open",e),u=s;l.default=u}),98);
__d("MAWEditMenuItem.react",["fbt","MWXMenuItem.react","react","react-compiler-runtime","useTriggerEditAction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.disableReason,a=e.message,i=e.onEditClickCallback,l=e.threadType,c=i===void 0?null:i,d=r("useTriggerEditAction")(a,l),m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1"),t[0]=m):m=t[0];var p=m,_=n!==void 0,f;t[1]!==c||t[2]!==d?(f=function(){d(),c&&c()},t[1]=c,t[2]=d,t[3]=f):f=t[3];var g;return t[4]!==n||t[5]!==_||t[6]!==f?(g=u.jsx(r("MWXMenuItem.react"),{"aria-label":p,disabled:_,onClick:f,primaryText:p,secondaryText:n,testid:void 0}),t[4]=n,t[5]=_,t[6]=f,t[7]=g):g=t[7],g}l.default=c}),226);
__d("MAWMessageIntegrityChecker",["FBLogger","MAWMessagesCompare","ReQL"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return e.externalId===t.externalId?0:e.sortOrderMs>t.sortOrderMs?1:(e.sortOrderMs<t.sortOrderMs,-1)}function s(e,t){var n=t.reduce(function(e,t){return t.externalId!=null&&e.set(t.externalId,t.sortOrderMs),e},new Map);return e.map(function(e){var t;return babelHelpers.extends({},e,{sortOrderMs:(t=e.externalId!=null?n.get(e.externalId):null)!=null?t:e.sortOrderMs})}).sort(o("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc"))}function u(e,t,n){var r=new Set(e.map(function(e){return e.externalId}).filter(Boolean));return t.toSorted(o("MAWMessagesCompare").makeCompareMessageMetadataForDescOrderFn(r)).slice(0,n)}function c(t,n,o,a,i){for(var l=new Set(t.map(function(e){return e.externalId})),c=new Set(n.map(function(e){return e.externalId})),d=p(l,c),m=p(c,l),_=s(t,n),f=u(_,n,o),g=0,h=0,y=0,C=0,b=[],v=null;g<_.length&&h<f.length;){var S=_[g],R=f[h];if(v!=null&&e(R,v)===0){h+=1,v=R,r("FBLogger")("messenger_web_missing_messages").mustfix("Detected duplicate messages in reference. Target source: %s, reference source: %s",a,i);continue}var L=e(S,R);L===0?(g+=1,h+=1,v=R,b.push([S,{result:"consistent"}])):L<0?(h+=1,v=R,y+=1,b.push([R,{result:"missing_in_target"}])):(g+=1,C+=1,b.push([S,{result:"missing_in_reference"}]))}for(;g<_.length;){var E=_[g];g+=1,f.length<o?(C+=1,b.push([E,{result:"missing_in_reference"}])):b.push([E,{result:"skipped_in_target"}])}for(;h<f.length;){var k=f[h];h+=1,_.length<o?(y+=1,b.push([k,{result:"missing_in_target"}])):b.push([k,{result:"skipped_in_reference"}])}return y===0&&C===0?{detailedResults:b,result:"consistent",setDifferenceInReference:m,setDifferenceInTarget:d}:y>0&&C===0?{detailedResults:b,numOfMissingMessages:y,result:"missing_in_target",setDifferenceInReference:m,setDifferenceInTarget:d}:y===0&&C>0?{detailedResults:b,numOfMissingMessages:C,result:"missing_in_reference",setDifferenceInReference:m,setDifferenceInTarget:d}:{detailedResults:b,numOfMissingMessages:C+y,result:"missing_in_both",setDifferenceInReference:m,setDifferenceInTarget:d}}async function d(e,t,n){var o=n.filter(function(e){var t=e[0],n=e[1];return n.result==="missing_in_target"}).map(function(e){var t=e[0],n=e[1];return t.externalId}),a={admin:!1,editMsgHistory:!1,media:!1,polls:!1,reactions:!1,receiverFetch:!1,xma:!1},i=await t.fetchMessagesByExternalId(o,a),l=new Set(i.map(function(e){return e.externalId}));return Promise.all(n.map(async function(e){var t=e[0],n=e[1];if(!l.has(t.externalId))return[t,n];var o=i.find(function(e){return e.externalId===t.externalId});if(!o)return r("FBLogger")("messenger_web_missing_messages").mustfix("Failed to find msg with external id: %s in MAW",t.externalId),[t,{result:"missing_in_target_invalid_sortOrder"}];var a={sortOrderSkewMs:o.sortOrderMs-t.sortOrderMs,sortOrderSkewNumberOfMsg:0},s={result:"missing_in_target_invalid_sortOrder",sortOrderSkewMs:0};return a.sortOrderSkewNumberOfMsg!=null&&(s=babelHelpers.extends({},s,{sortOrderSkewNumberOfMsg:a.sortOrderSkewNumberOfMsg})),[babelHelpers.extends({},t,{msgType:o.msgType}),s]}))}async function m(e,t){var n=t.filter(function(e){var t=e[0],n=e[1];return n.result==="missing_in_target"}).map(function(e){var t=e[0],n=e[1];return t.externalId});if(n.length===0)return t;var r=n.map(function(t){return o("ReQL").fromTableAscending(e.tables.messages.index("optimistic")).getKeyRange(t)}),a=r.length===1,i=r.length>1?o("ReQL").union.apply(void 0,r):r[0],l=await o("ReQL").toArrayAsync(i);return t.map(function(e){var t=e[0],n=e[1],r=l.find(function(e){return e.offlineThreadingId===t.externalId});return r!=null?[t,{result:"missing_in_target_exists_in_lsdb",transportKey:r.transportKey,wouldHaveThrownS518614:a}]:(n.wouldHaveThrownS518614=a,[t,n])})}function p(e,t){var n=0;for(var r of e)t.has(r)||(n+=1);return n}l.checkIntegrityforMessageList=c,l.checkMsgsExistenceInMAWAndDecomposeTargetConsistencyResult=d,l.checkMsgsExistenceInLSDB=m}),98);
__d("MAWMessageIntegrityMissingInTargetCategory",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.hasEBFetchFailed,n=e.mawVsEB,r=e.uiVsEB,o=u(r),a=n.detailedResults.filter(function(e){var t=e[0],n=e[1];return o.has(t.externalId)});return a.map(function(e){var n=e[0],r=e[1],o=s(n.externalId,r,t);return o==null?null:[n,o]}).filter(Boolean)}function s(e,t,n){switch(t.result){case"consistent":return"client_inconsistency";case"missing_in_target":return n?"eb_restore_timeout":"message_not_persisted_after_eb_restore";case"missing_in_target_invalid_sortOrder":return t.sortOrderSkewMs==null||t.sortOrderSkewMs===0?"message_out_of_order_same_timestamp":"message_out_of_order_different_timestamp";case"skipped_in_target":return"client_inconsistency_skipped";case"skipped_in_reference":return"unknown_skipped";case"missing_in_reference":case"missing_in_target_exists_in_lsdb":return r("FBLogger")("messenger_web_missing_messages").mustfix("Unexpected consistency result %s for message with externalId %s when calculating missing in target category",t.result,e),null;default:return t.result,null}}function u(e){return e.detailedResults.reduce(function(e,t){var n=t[0],r=t[1];return r.result==="missing_in_target"&&e.add(n.externalId),e},new Set)}l.calculateMissingInTargetCategory=e}),98);
__d("MAWMessageIntegrityCompareMessagesData",["I64","MAWMessageIntegrityChecker","MAWMessageIntegrityMissingInTargetCategory","WATagsLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=o("WATagsLogger").TAGS(["MissingMessages"]);async function m(e,t,n,r,o,a){var i=o.S518614_messagesBacktest,l=i.backendMessages,s=i.ebMessages,u=i.mpsMessages,c=i.uiMessages,d=o.S518614_pageSizeBacktest,m=o.messages,_=m.backendMessages,f=m.ebMessages,g=m.mpsMessages,h=m.uiMessages,y=o.pageSize,C=await p(e,t,n,r,a,_,f,g,h,y),b=C.mawVsEB,v=C.missingInTargetCategory,S=C.mpsVsEB,R=C.mpsVsMaw,L=C.uiVsEB,E=C.uiVsMaw,k=await p(e,t,n,r,a,l,s,u,c,d,!0),I=k.mawVsEB,T=k.mpsVsEB,D=k.mpsVsMaw,x=k.uiVsEB,$=k.uiVsMaw,P=k.wouldHaveThrownS518614;return{S518614_mawVsEB:I,S518614_mpsVsEB:T,S518614_mpsVsMaw:D,S518614_pageSize:d,S518614_uiVsEB:x,S518614_uiVsMaw:$,S518614_wouldHaveThrown:P,mawVsEB:b,missingInTargetCategory:v,mpsVsEB:S,mpsVsMaw:R,pageSize:y,uiVsEB:L,uiVsMaw:E}}async function p(t,n,r,a,i,l,m,p,f,g,h){h===void 0&&(h=!1);var y=o("MAWMessageIntegrityChecker").checkIntegrityforMessageList(f,l,g,"ui","maw"),C=o("MAWMessageIntegrityChecker").checkIntegrityforMessageList(f,m,g,"ui","eb"),b=o("MAWMessageIntegrityChecker").checkIntegrityforMessageList(l,m,g,"maw","eb"),v=p?o("MAWMessageIntegrityChecker").checkIntegrityforMessageList(p,l,g,"mps","maw"):null,S=p?o("MAWMessageIntegrityChecker").checkIntegrityforMessageList(p,m,g,"mps","eb"):null;C.result!=="consistent"&&(h?d.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["S518614 backtest: Missing message detected for ",", result: ",", num of messages missing: ",""])),(c||(c=o("I64"))).to_float(a),C.result,C.numOfMissingMessages):d.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Missing message detected for ",", result: ",", num of messages missing: ",""])),(c||(c=o("I64"))).to_float(a),C.result,C.numOfMissingMessages)),(C.result==="missing_in_target"||C.result==="missing_in_both")&&(C.detailedResults=_(C.detailedResults,f)),(b.result==="missing_in_target"||b.result==="missing_in_both")&&(b.detailedResults=await o("MAWMessageIntegrityChecker").checkMsgsExistenceInMAWAndDecomposeTargetConsistencyResult(r,n,b.detailedResults));var R=!1;if(y.result==="missing_in_target"||y.result==="missing_in_both")try{y.detailedResults=await o("MAWMessageIntegrityChecker").checkMsgsExistenceInLSDB(t,y.detailedResults),y.detailedResults.map(function(e){var t=e[0],n=e[1];R||(R=n.wouldHaveThrownS518614===!0)})}catch(e){d.ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Failed to get detailed results for UI vs MAW comparison: ",""])),e)}var L=o("MAWMessageIntegrityMissingInTargetCategory").calculateMissingInTargetCategory({hasEBFetchFailed:i,mawVsEB:b,uiVsEB:C});return{mawVsEB:b,missingInTargetCategory:L,mpsVsEB:S,mpsVsMaw:v,pageSize:g,uiVsEB:C,uiVsMaw:y,wouldHaveThrownS518614:R}}function _(e,t){var n=new Set(t.map(function(e){return e.externalId}));return e.map(function(e){var t=e[0],r=e[1];return r.result==="missing_in_target"&&n.has(t.externalId)?[t,babelHelpers.extends({},r,{existingInUISamePage:!0})]:[t,r]})}l.compareMessagesData=m}),98);
__d("MAWMessageIntegrityFetchMessagesData",["I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWEBDeanonFetch","MAWMessagesCompare","MAWMpsGating","MAWMpsMessageIntegrityFetch","MpsTypes","WAResultOrError","WAStanzaUtils","WATimeUtils","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(e,t,n,r,a,i){var l=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","identifyXMAWithAssociatedTextByExternalId",{externalIds:i.map(function(e){return o("WAStanzaUtils").toStanzaId(e.offlineThreadingId)})}),s=i.map(d),p=await Promise.all([m(i),o("MAWMpsGating").isMpsMessageRendering()?[]:u(e,t,n,a,r),c(n,a,r),o("MAWMpsMessageIntegrityFetch").mpsMessageIntegrityFetch(n,"before",a,r)]),_=p[0],f=p[1],g=p[2],h=p[3],y=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","identifyCollapsedMessagesByExternalId",{externalIds:g.map(function(e){return o("WAStanzaUtils").toStanzaId(e.externalId)})});function C(e){return!l.includes(o("WAStanzaUtils").toStanzaId(e.externalId))}function b(e){return!y.includes(o("WAStanzaUtils").toStanzaId(e.externalId))}function v(e){return C(e)&&b(e)}var S=_.filter(v),R=f.filter(v),L=g.filter(v),E=h==null?null:h.filter(v),k=s.filter(v),I=i.length-k.length,T=r-I;if(L.length===0)return o("WAResultOrError").makeError("EB result not available");var D=o("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc"),x=[].concat(R).sort(D).slice(0,T),$=[].concat(L).sort(D).slice(0,T),P=S.sort(D).slice(0,T),N=E!=null?[].concat(E).sort(D).slice(0,T):null,M=r,w=[].concat(f).sort(D).slice(0,M),A=[].concat(g).sort(D).slice(0,M),F=[].concat(_).sort(D).slice(0,M),O=h!=null?[].concat(h).sort(D).slice(0,M):null;return o("WAResultOrError").makeResult({S518614_messagesBacktest:{backendMessages:w,ebMessages:A,mpsMessages:O,uiMessages:F},S518614_pageSizeBacktest:M,messages:{backendMessages:x,ebMessages:$,mpsMessages:N,uiMessages:P},pageSize:T})}async function u(t,n,r,a,i){var l=p(a),s=l.msgId,u=l.timestampMs,c=await n.requestMessages(t,r,(e||(e=o("I64"))).of_float(u),s,"before",i,{admin:!1,editMsgHistory:!1,media:!1,polls:!1,reactions:!1,receiverFetch:!1,xma:!1},"integrity");return c.msgs}async function c(e,t,n){var r,a,i=p(t),l=i.msgId,s=i.timestampMs,u=await(l==null?Promise.resolve(null):o("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:l})),c=(r=u==null?void 0:u.externalId)!=null?r:(a=t.lastItemFromPreviousPage)==null?void 0:a.offlineThreadingId,d=await o("MAWEBDeanonFetch").fetchMessagesMetadataFromEBDeanon({chatJid:e,count:n*2,direction:"before",includeReferenceTimestamp:!0,referenceExternalId:c,referenceTimestampMs:s});if(d.success===!1)return[];var m=d.value.sort(o("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc")),_=m.findIndex(function(e){return e.externalId===c});return m.slice(_+1)}function d(t){return{externalId:t.offlineThreadingId,msgType:(e||(e=o("I64"))).to_string(t.displayedContentTypes),sortOrderMs:e.to_float(t.primarySortKey)}}function m(e){var t=function(t){var e=o("MAWDbMsg").toMsgId(t.messageId);return e==null?Promise.resolve(d(t)):o("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:e}).then(function(e){var n;return babelHelpers.extends({},t,{offlineThreadingId:(n=e==null?void 0:e.externalId)!=null?n:t.offlineThreadingId})}).then(d)};return Promise.all(e.map(t))}function p(t){return t.type==="lastItemFromPreviousPage"?{messageId:o("MpsTypes").toMessageId(t.lastItemFromPreviousPage.offlineThreadingId),msgId:o("MAWDbMsg").toMsgId(t.lastItemFromPreviousPage.messageId),timestampMs:o("WATimeUtils").castToMillisTime((e||(e=o("I64"))).to_float(t.lastItemFromPreviousPage.primarySortKey))}:(t.type,r("gkx")("15880")===!0?{messageId:null,msgId:null,timestampMs:t.timeOfSnapshotMs}:{messageId:null,msgId:null,timestampMs:o("WATimeUtils").millisTime()})}l.fetchMessagesDataForComparison=s,l.getRangeDetailsFromMessageIntegrityFromReference=p}),98);
__d("MAWMpsMessageIntegrityFetch",["MAWCurrentUser","MAWEBLSInWorkerSwitch","MAWEBSwitch","MAWMessageIntegrityFetchMessagesData","MAWMessagesDirection","MpsOverBridge","MpsTypes","WAPromiseDelays"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,a){var i=o("MAWMessageIntegrityFetchMessagesData").getRangeDetailsFromMessageIntegrityFromReference(n),l=i.messageId,s=i.timestampMs;r("MAWEBSwitch").isEnabled()===!0&&await Promise.race([o("WAPromiseDelays").delayMs(1e4),await r("MAWEBLSInWorkerSwitch").waitForEBEnabled()]);var u=await o("MpsOverBridge").mps().loadMessages({config:{shouldFetchSupplementals:!1,shouldIgnoreLocalOnly:!0,strategy:"full-fetch"},debug:{purpose:"integrity-check"},direction:o("MAWMessagesDirection").translateMawDirectionToMwpDirection(t),from:[o("MpsTypes").toTimestamp(s),l],numMessages:a*2,threadId:o("MpsTypes").toThreadId(e)});return u.success===!1?null:u.value.messages.map(function(e){return{externalId:e.toplevelProtobuf.messageId,isOutgoing:e.toplevelProtobuf.senderId!==o("MAWCurrentUser").getID(),msgType:"",sortOrderMs:e.toplevelProtobuf.timestampMs}})}l.mpsMessageIntegrityFetch=e}),98);
__d("MAWSecureDataSource",[],(function(t,n,r,o,a,i){"use strict";var e=10;i.DEFAULT_NUM_MESSAGES=e}),66);
__d("MAWSecureLocalDBDataSource",["FBLogger","MAWBridgeSendAndReceive","MAWMessagesPaginationUtils","MAWSecureDataSource","MAWSecureLocalDBFetch","WAStanzaUtils","WATagsLogger","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("WATagsLogger").TAGS(["MAWSecureLocalDBDataSource"]);function u(e){return e.msgs.map(function(e){return{externalId:e.externalId,isOptimistic:e.ack<1,isOutgoing:e.isAuthorMe,msgType:e.type_,sortOrderMs:e.sortOrderMs}})}var c=(function(){function t(){}var n=t.prototype;return n.requestMessages=async function(t,n,a,i,l,s,u,c){var e=await o("MAWMessagesPaginationUtils").getExternalIdByMsgId(i),d=await r("MAWSecureLocalDBFetch")({actionType:c,chatJid:n,config:u,count:s!=null?s:o("MAWSecureDataSource").DEFAULT_NUM_MESSAGES,direction:l,offsetMsg:i==null?null:{externalId:e,includeOriginalMsg:!1,messageId:i},timestampMs:a});if(d.success===!1){var m;throw(m=d.payload)!=null?m:r("err")(d.error)}var p=d.value;o("MAWMessagesPaginationUtils").populateExternalIdCache(p.msgs);var _=p.msgs.map(function(e){return{externalId:e.externalId,isOptimistic:e.ack<1,isOutgoing:e.isAuthorMe,msgType:e.type_,sortOrderMs:e.sortOrderMs}});return{hasMoreAfter:p.hasMoreAfter,hasMoreBefore:p.hasMoreBefore,msgs:_}},n.fetchSecureMessagesProtocol=function(){return r("FBLogger")("messenger_e2ee_web").warn("Secure messages protocol is not supported for old MessageList component"),Promise.resolve()},n.fetchMessagesByExternalId=function(n,r){n.length>2&&s.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Fetching ",` messages by external id, which is not optimal.
      Consider migrating 'loadMsgsByExternalId' backend request to a batch version `])),n.length);var t=n.map(function(e){return o("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:r,externalId:o("WAStanzaUtils").toStanzaId(e)})});return Promise.all(t).then(function(e){return e.map(function(e){return u(e)}).flat()})},t})();l.default=c}),98);
__d("MAWMessageIntegrityFetchAndCompareData",["MAWMessageIntegrityCompareMessagesData","MAWMessageIntegrityFetchMessagesData","MAWMiActOnActThreadReady","MAWSecureLocalDBDataSource","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("MAWSecureLocalDBDataSource"));async function s(t){var n=t.db,r=t.fromReferencePoint,a=t.hasEbFetchFailed,i=t.localMessages,l=t.pageSize,s=t.threadKey,u=await o("MAWMiActOnActThreadReady").waitForACTThreadReady(n.tables,s,"fetchAndCompareMessagesData"),c=u.chatJid,d=await o("MAWMessageIntegrityFetchMessagesData").fetchMessagesDataForComparison(n,e,c,l,r,i);if(d.success===!1)return d;var m=await o("MAWMessageIntegrityCompareMessagesData").compareMessagesData(n,e,c,s,d.value,a);return o("WAResultOrError").makeResult(m)}l.fetchAndCompareMessagesData=s}),98);
__d("MAWMessagesIntegrityEphemeralSettings",["I64","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,r){var a=await o("MAWMiActOnActThreadReady").waitForACTThreadReady(t.tables,n,"getIsEphemeralMessagesEnabledForPage"),i=a.chatJid,l=await o("MAWGetEphemeralSettings").getEphemeralSetting(i,n);return l==null||l.ephemeralLastUpdatedOrSetTimestamp===o("WATimeUtils").DEFAULT_UNIXTIME?"disabled":o("WATimeUtils").castUnixTimeToMillisTime(l.ephemeralLastUpdatedOrSetTimestamp)<(e||(e=o("I64"))).to_float(r)?l.ephemeralExpirationInSec>0?"enabled":"disabled":l.ephemeralExpirationInSec>0?"maybeDisabled":"maybeEnabled"}l.getEphemeralMessagesStatusForPage=s}),98);
__d("MAWMessageIntegrityCheck",["CometDebounce","DateConsts","EbFetchTimeoutMsForMLv2","I64","MAWBridgeSendAndReceive","MAWEBCombinedSwitch","MAWMessageIntegrityCheckFlytrapResultCache","MAWMessageIntegrityEBFetchStatus","MAWMessageIntegrityFetchAndCompareData","MAWMessageIntegrityTruncateStatus","MAWMessagesIntegrityEphemeralSettings","MAWMiActOnActThreadReady","WACommsConnectionState","WAPromiseDelays","WATagsLogger","WATimeUtils","gkx","justknobx","logMessengerWebFalcoEvent","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v="11",S=12e4,R=o("WATagsLogger").TAGS(["MissingMessages"]),L=r("CometDebounce")(r("logMessengerWebFalcoEvent"));function E(e){if(e.length===0)return null;var t=0;for(var n of e)t=Math.max(t,(b||(b=o("I64"))).to_float(n.primarySortKey));return o("WATimeUtils").castToMillisTime(t)}function k(e,t){var n=E(e);if(n==null)return t;var o=Math.abs(n-t),a=r("justknobx")._("4843");return o<a?n:t}async function I(t,n,a,i,l,E,I,x,M,w){var A,F,O,B,W,q,U,V,H,G,z,j,K,Q;if(R.LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["run Message Integrity Check - threadKey: ",", lastItem: ",", pageSize: ",""])),(b||(b=o("I64"))).to_string(n),E==null?"null":(b||(b=o("I64"))).to_float(E.primarySortKey),l),o("WATimeUtils").millisTime()-M>S){R.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: check was scheduled more than 2 minutes ago"])),(b||(b=o("I64"))).to_string(n),E==null?"null":(b||(b=o("I64"))).to_float(E.primarySortKey));return}var X=o("MAWEBCombinedSwitch").MAWEBCombinedSwitch.isEnabled();if(E==null&&o("WACommsConnectionState").WACommsConnectionState.isConnected()===!1&&r("gkx")("15879")===!0){R.LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: WACOMMS is disconnected"])),(b||(b=o("I64"))).to_string(n),E==null?"null":(b||(b=o("I64"))).to_float(E.primarySortKey));return}var Y=E==null&&r("gkx")("15880")===!0;if(Y){var J=r("justknobx")._("4844"),Z=M+J,ee=Math.min(Z-o("WATimeUtils").millisTime(),J);R.LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check - threadKey "," - Latest Page - waiting ","ms"])),(b||(b=o("I64"))).to_string(n),ee),await o("WAPromiseDelays").delayMs(ee)}var te=o("WATimeUtils").millisTime(),ne=r("gkx")("1626"),re=o("MAWMessageIntegrityEBFetchStatus").hasEBFailure(n),oe=o("MAWMessageIntegrityTruncateStatus").getThreadThuncateState(n),ae=E!=null?{lastItemFromPreviousPage:E,type:"lastItemFromPreviousPage"}:{timeOfSnapshotMs:k(I,M),type:"latestPageSnapshot"},ie=await o("MAWMessageIntegrityFetchAndCompareData").fetchAndCompareMessagesData({db:t,fromReferencePoint:ae,hasEbFetchFailed:re,localMessages:I,pageSize:l,threadKey:n});if(ie.success===!1){R.LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check skipped for threadKey: ",", lastItem: ",", reason: ",""])),(b||(b=o("I64"))).to_string(n),E==null?"null":(b||(b=o("I64"))).to_float(E.primarySortKey),ie.error);return}var le=ie.value;r("gkx")("4852")&&le.uiVsEB.detailedResults.some(function(e){var t=e[0],n=e[1];return n==="missing_in_target"})&&w();var se=o("MAWMessageIntegrityCheckFlytrapResultCache").generateMessageIntegrityCheckPageKey(n,I);o("MAWMessageIntegrityCheckFlytrapResultCache").cacheMessageIntegrityCheckResult(se,le.missingInTargetCategory),R.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", result against backend data: ",""])),b.to_string(n),E==null?"null":(b||(b=o("I64"))).to_float(E.primarySortKey),JSON.stringify(le.uiVsMaw)),R.LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", result against EB data: ",""])),b.to_string(n),E==null?"null":(b||(b=o("I64"))).to_float(E.primarySortKey),JSON.stringify(le.uiVsEB)),R.LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", MPS (target) vs MAW (reference): ",""])),b.to_string(n),E==null?"null":(b||(b=o("I64"))).to_float(E.primarySortKey),JSON.stringify(le.mpsVsMaw)),R.LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check result - threadKey: ",", lastItem: ",", MPS (target) vs EB (reference): ",""])),b.to_string(n),E==null?"null":(b||(b=o("I64"))).to_float(E.primarySortKey),JSON.stringify(le.mpsVsEB)),R.LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check Flytrap result - threadKey: ",", missingInTargetCategory: ",""])),b.to_string(n),JSON.stringify(le.missingInTargetCategory)),R.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check Truncate state - threadKey: ",", state: ",""])),b.to_string(n),JSON.stringify(oe));var ue=D(le.mawVsEB),ce=D(le.uiVsEB),de=D(le.uiVsMaw),me=le.mpsVsMaw!=null?D(le.mpsVsMaw):{},pe=le.mpsVsEB!=null?D(le.mpsVsEB):{},_e=D(le.S518614_mawVsEB),fe=D(le.S518614_uiVsEB),ge=D(le.S518614_uiVsMaw),he=le.S518614_mpsVsMaw!=null?D(le.S518614_mpsVsMaw):{},ye=le.S518614_mpsVsEB!=null?D(le.S518614_mpsVsEB):{},Ce=$(I),be=await o("MAWMessagesIntegrityEphemeralSettings").getEphemeralMessagesStatusForPage(t,n,Ce),ve=await P(t,n),Se=await o("WAPromiseDelays").withTimeout(N({messages:[]}).catch(function(e){return R.ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["Failed to get extra debug info: ",""])),e),"error"}),1e4,function(){return"timeout"}),Re={MAW_vs_EB_detailedResults:ue.detailedResults,MAW_vs_EB_numOfMissingInReference:ue.numOfMissingInReference,MAW_vs_EB_numOfMissingInTarget:ue.numOfMissingInTarget,MAW_vs_EB_numOfMissingInTargetInvalidSortOrder:ue.numOfMissingInTargetInvalidSortOrder,MAW_vs_EB_setNumOfMissingInReference:ue.setDifferenceInReference,MAW_vs_EB_setNumOfMissingInTarget:ue.setDifferenceInTarget,MPS_vs_EB_detailedResults:(A=pe.detailedResults)!=null?A:"",MPS_vs_EB_numOfMissingInReference:(F=pe.numOfMissingInReference)!=null?F:"",MPS_vs_EB_numOfMissingInTarget:(O=pe.numOfMissingInTarget)!=null?O:"",MPS_vs_MAW_detailedResults:(B=me.detailedResults)!=null?B:"",MPS_vs_MAW_numOfMissingInReference:(W=me.numOfMissingInReference)!=null?W:"",MPS_vs_MAW_numOfMissingInTarget:(q=me.numOfMissingInTarget)!=null?q:"",S518614_MAW_vs_EB_detailedResults:(U=_e.detailedResults)!=null?U:"",S518614_MPS_vs_EB_detailedResults:(V=ye.detailedResults)!=null?V:"",S518614_MPS_vs_MAW_detailedResults:(H=he.detailedResults)!=null?H:"",S518614_pageSize:le.S518614_pageSize.toString(),S518614_UI_vs_EB_detailedResults:(G=fe.detailedResults)!=null?G:"",S518614_UI_vs_MAW_detailedResults:(z=ge.detailedResults)!=null?z:"",S518614_wouldHaveThrown:T(le.S518614_wouldHaveThrown),UI_vs_EB_detailedResults:ce.detailedResults,UI_vs_EB_numOfMissingInReference:ce.numOfMissingInReference,UI_vs_EB_numOfMissingInTarget:ce.numOfMissingInTarget,UI_vs_EB_setNumOfMissingInReference:ce.setDifferenceInReference,UI_vs_EB_setNumOfMissingInTarget:ce.setDifferenceInTarget,UI_vs_MAW_detailedResults:de.detailedResults,UI_vs_MAW_numOfMissingInReference:de.numOfMissingInReference,UI_vs_MAW_numOfMissingInTarget:de.numOfMissingInTarget,UI_vs_MAW_setNumOfMissingInReference:de.setDifferenceInReference,UI_vs_MAW_setNumOfMissingInTarget:de.setDifferenceInTarget,ebMetadataCacheStatus:ve,ebTimeoutSec:(r("EbFetchTimeoutMsForMLv2")()/o("DateConsts").MS_PER_SEC).toString(),endRangeTimestampMs:b.to_string(Ce),ephemeralMessagesStatus:be+"",extraDebugInfo:Se,hasAdditionalData:T(ne),hasEBFetchFailed:T(re),integrityCheckScheduleTimestampMs:M.toString(),isDogfooding:T(r("gkx")("2972")),isEbEnabled:T(X),isEbGraphQL:X?"false":T(r("gkx")("7083")),isHoldout_H2_2025:T(r("gkx")("15728")),isJidOptimisationInRestoreEnabled:T(r("gkx")("3137")),isMpsEnabled:"true",isUsePageTimeForLatestPage:T(Y),isUsingLsInitCache:T(r("gkx")("15958")),lastItemExternalId:(j=E==null?void 0:E.offlineThreadingId)!=null?j:"null",lastItemTimestamp:b.to_string((K=E==null?void 0:E.primarySortKey)!=null?K:(b||(b=o("I64"))).zero),missingInTargetCategory:JSON.stringify(le.missingInTargetCategory),pageIndex:x+"",pageSize:le.pageSize+"",reportTimeMs:te.toString(),truncateState:(Q=JSON.stringify(oe))!=null?Q:"null",version:X?v:"0",waCommsIsConnected:T(o("WACommsConnectionState").WACommsConnectionState.isConnected())};r("gkx")("970")&&R.DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["Message Integrity Check - Falco Report"]))).devConsole({falcoReport:Re}),L({threadKey:n,threadType:a},"message_integrity_check",i,Re)}function T(e){return e===!0?"true":"false"}function D(e){var t=0,n=0,r=0;return e.detailedResults.forEach(function(e){var o=e[0],a=e[1];switch(a.result){case"missing_in_target":case"missing_in_target_exists_in_lsdb":t+=1;break;case"missing_in_target_invalid_sortOrder":n+=1,t+=1;break;case"missing_in_reference":r+=1;break;case"consistent":case"skipped_in_target":case"skipped_in_reference":break;default:a.result}}),{detailedResults:x(e.detailedResults),numOfMissingInReference:r+"",numOfMissingInTarget:t+"",numOfMissingInTargetInvalidSortOrder:n+"",setDifferenceInReference:e.setDifferenceInReference+"",setDifferenceInTarget:e.setDifferenceInTarget+""}}function x(e){var t=e.map(function(e){var t=e[0],n=e[1],o=n.existingInUISamePage,a=n.result,i=n.sortOrderSkewMs,l=n.sortOrderSkewNumberOfMsg;return babelHelpers.extends({existingInUISamePage:o,externalId:t.externalId,isOutgoing:t.isOutgoing},r("gkx")("1626")?{msgType:t.msgType,sortOrderMs:t.sortOrderMs}:{},{result:a,sortOrderSkewMs:i!=null?i:0,sortOrderSkewNumberOfMsg:l!=null?l:0})});return JSON.stringify(t)}function $(e){return e.length===0?(b||(b=o("I64"))).min_int:e.map(function(e){return e.timestampMs}).sort((b||(b=o("I64"))).compare)[0]}async function P(e,t){var n=await o("MAWMiActOnActThreadReady").waitForACTThreadReady(e.tables,t,"fetchAndCompareMessagesData"),r=n.chatJid,a=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getEBMetadataCacheDetailsForThread",{chatJid:r});return JSON.stringify(a)}async function N(e){r("vulture")("L5p00iypub0GBBy1GoTSyMkNm80=");var t={browser:{loadEventEnd:window.performance.timing.loadEventEnd,navigationStart:window.performance.timing.navigationStart},worker:await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getWorkerBasedMessageIntegrityDebugInfo",e)};return JSON.stringify(t)}var M={runMessageIntegrityCheck:I};l.default=M}),98);
__d("MWCMCreateSubthreadMenuItem.react",["I64","Int64Hooks","LsFalcoEventEntryPoint","MWXMenuItem.react","SubthreadCreationStrings.react","react","react-compiler-runtime","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=r("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadMenuItem.react");function d(e){var t=o("react-compiler-runtime").c(12),n=e.message,a=r("useMWCMCreateSubthread")(n),i=a[0],l=a[1],d=r("useOpenSubthreadView")(),m=n.subthreadKey,p,_;t[0]!==n.messageId||t[1]!==n.threadKey||t[2]!==i||t[3]!==d||t[4]!==m?(p=function(){c.onReady(function(e){return e.log(function(){var e={};return{action:{container_module:"MWCMCreateSubthreadMenuItem",type:m!=null?105:104},error:{message:void 0},extra:e,message:{attachment_type:"",entry_point:o("LsFalcoEventEntryPoint").messageActions,id:n.messageId,recipient_id:void 0},thread:{group_size:(s||(s=o("I64"))).to_string(s.zero),id:s.to_string(n.threadKey),type:18}}})}),m!=null?d(m):i()},_=[n.messageId,n.threadKey,i,d,m],t[0]=n.messageId,t[1]=n.threadKey,t[2]=i,t[3]=d,t[4]=m,t[5]=p,t[6]=_):(p=t[5],_=t[6]);var f=o("Int64Hooks").useCallbackInt64(p,_),g=m!=null?o("SubthreadCreationStrings.react").viewSubthreadLabel:o("SubthreadCreationStrings.react").createSubthreadLabel,h=m!=null?o("SubthreadCreationStrings.react").viewSubthreadLabel:o("SubthreadCreationStrings.react").createSubthreadLabel,y;return t[7]!==l||t[8]!==f||t[9]!==g||t[10]!==h?(y=u.jsx(r("MWXMenuItem.react"),{"aria-label":g,disabled:l,onClick:f,primaryText:h}),t[7]=l,t[8]=f,t[9]=g,t[10]=h,t[11]=y):y=t[11],y}l.default=d}),98);
__d("MWChatAudioLog",["AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","I64","Ls1lcFeatureOpenFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){r("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:"true",position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function u(){r("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}}),r("Ls1lcFeatureOpenFalcoEvent").log(function(){return{extra:void 0,feature:13,feature_sessionid:void 0,screen_orientation:void 0,stage:7,thread:void 0}})}function c(){r("AudioClipsCancelledByUserFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function d(){r("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function m(t){r("AudioClipsPlaybackStartFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function p(t,n){r("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:e.to_string(e.of_float(n)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function _(t,n){r("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:e.to_string(e.of_float(n)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function f(){r("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function g(){r("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function h(){r("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}l.logClickStopRecording=s,l.logClickStartRecording=u,l.logDeleteRecording=c,l.logBrowserDenyAccess=d,l.logPlaybackStart=m,l.logPlaybackPause=p,l.logPlaybackResume=_,l.logDialogOk=f,l.logDialogNotNow=g,l.logMicAccessCheckFailed=h}),98);
__d("useMWChatPromptSuggestions",["fbt","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useMemo,c=[s._(/*BTDS*/"\u0391\u03c0\u03cc \u03c0\u03bf\u03cd \u03bc\u03ac\u03b8\u03b1\u03c4\u03b5 \u03b3\u03b9\u03b1 \u03b1\u03c5\u03c4\u03cc \u03c4\u03bf \u03ba\u03b1\u03bd\u03ac\u03bb\u03b9;"),s._(/*BTDS*/"\u0393\u03b9\u03b1 \u03c0\u03bf\u03b9\u03bf \u03c3\u03ba\u03bf\u03c0\u03cc \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c7\u03c1\u03b7\u03c3\u03b9\u03bc\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03c9 \u03b1\u03c5\u03c4\u03cc \u03c4\u03bf \u03ba\u03b1\u03bd\u03ac\u03bb\u03b9;"),s._(/*BTDS*/"\u03a0\u03bf\u03b9\u03bf \u03c4\u03c1\u03b1\u03b3\u03bf\u03cd\u03b4\u03b9 \u03b1\u03ba\u03bf\u03cd\u03c4\u03b5;"),s._(/*BTDS*/"\u039a\u03ac\u03bd\u03c4\u03b5 \u03bc\u03b5 \u03bd\u03b1 \u03b3\u03b5\u03bb\u03ac\u03c3\u03c9 \ud83d\udc80"),s._(/*BTDS*/"\u039a\u03ac\u03c4\u03b9 \u03b1\u03b3\u03b1\u03c0\u03b7\u03bc\u03ad\u03bd\u03bf \u03c4\u03ce\u03c1\u03b1 \ud83d\udc98"),s._(/*BTDS*/"\u0391\u03b3\u03b1\u03c0\u03b7\u03bc\u03ad\u03bd\u03bf\u03c2 \u03c4\u03b1\u03be\u03b9\u03b4\u03b9\u03c9\u03c4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2 \u2708\ufe0f"),s._(/*BTDS*/"\u03a4\u03bf \u03b1\u03b3\u03b1\u03c0\u03b7\u03bc\u03ad\u03bd\u03bf \u03c3\u03b1\u03c2 \u03bc\u03ad\u03c1\u03bf\u03c2 \u2763\ufe0f"),s._(/*BTDS*/"\u039a\u03ac\u03c4\u03b9 \u03b3\u03b9\u03b1 \u03c4\u03bf \u03bf\u03c0\u03bf\u03af\u03bf \u03b5\u03af\u03c3\u03c4\u03b5 \u03c0\u03b5\u03c1\u03ae\u03c6\u03b1\u03bd\u03bf\u03b9 \ud83d\udc9f"),s._(/*BTDS*/"\u0394\u03ad\u03ba\u03b1 \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1 \u03c0\u03c1\u03b9\u03bd, \u03ae\u03bc\u03bf\u03c5\u03bd\u2026"),s._(/*BTDS*/"\u0393\u03b9\u03b1 \u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03ac\u03b3\u03bc\u03b1 \u03b5\u03af\u03c3\u03c4\u03b5 \u03b5\u03c5\u03b3\u03bd\u03ce\u03bc\u03c9\u03bd; \ud83e\udef6"),s._(/*BTDS*/"\u03a0\u03bf\u03b9\u03b1 \u03b8\u03b1 \u03ae\u03c4\u03b1\u03bd \u03b7 \u03b4\u03bf\u03c5\u03bb\u03b5\u03b9\u03ac \u03c4\u03bf\u03bd \u03bf\u03bd\u03b5\u03af\u03c1\u03c9\u03bd \u03c3\u03b1\u03c2 \u03b5\u03ac\u03bd \u03b4\u03b5\u03bd \u03b5\u03af\u03c7\u03b1\u03bd \u03c3\u03b7\u03bc\u03b1\u03c3\u03af\u03b1 \u03c4\u03b1 \u03c7\u03c1\u03ae\u03bc\u03b1\u03c4\u03b1;"),s._(/*BTDS*/"\u03a4\u03b9 \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c0\u03bd\u03ad\u03b5\u03b9 \u03c4\u03ce\u03c1\u03b1; \ud83c\udf1f"),s._(/*BTDS*/"\u03a0\u03b5\u03af\u03c4\u03b5 \u03ba\u03ac\u03c4\u03b9 \u03bc\u03bf\u03bd\u03b1\u03b4\u03b9\u03ba\u03cc \u03b3\u03b9\u03b1 \u03c4\u03bf\u03bd \u03b5\u03b1\u03c5\u03c4\u03cc \u03c3\u03b1\u03c2"),s._(/*BTDS*/"\u039c\u03b9\u03b1 \u03c4\u03b1\u03b9\u03bd\u03af\u03b1 \u03c0\u03bf\u03c5 \u03b1\u03c0\u03bf\u03bb\u03b1\u03cd\u03c3\u03b1\u03c4\u03b5 \u03c0\u03c1\u03cc\u03c3\u03c6\u03b1\u03c4\u03b1 \ud83c\udfa5"),s._(/*BTDS*/"\u0397 \u03c5\u03b3\u03b5\u03af\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03bb\u03bf\u03cd\u03c4\u03bf\u03c2 \ud83d\udcaa\ud83e\udd57"),s._(/*BTDS*/"\u0397 \u03c4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03b1 \u03c3\u03c5\u03bd\u03b1\u03c5\u03bb\u03af\u03b1 \u03c0\u03bf\u03c5 \u03c0\u03ae\u03b3\u03b1\u03c4\u03b5 \ud83d\udc69\u200d\ud83c\udfa4"),s._(/*BTDS*/"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 \u03ad\u03bc\u03b1\u03b8\u03b1\u2026"),s._(/*BTDS*/"\u03a4\u03b9 \u03ba\u03ac\u03bd\u03b5\u03c4\u03b5 \u03b1\u03c0\u03cc\u03c8\u03b5;")];function d(e){for(var t=e.slice(),n=t.length-1;n>=0;n--){var r=Math.floor(Math.random()*(n+1)),o=t[n];t[n]=t[r],t[r]=o}return t}function m(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=d(c),e[0]=t):t=e[0],t}l.default=m}),226);
__d("MWChatPromptFlyoutSuggestions.react",["FocusGroup.react","MWXPressable.react","MWXScrollableArea.react","MWXText.react","focusScopeQueries","react","react-compiler-runtime","useMWChatPromptSuggestions"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=8,c={pressable:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",marginTop:"xw7yly9",marginBottom:"x1yztbdb",marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,$$css:!0},scrollArea:{maxWidth:"x193iq5w",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.onPress,a=e.text,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x6s0dn4 xx7qk4p x6nl9eh x1a5l9x9 x7vuprf x1mg3h75 xwflfxt x78zum5 x2lah0s x1vqgdyp xl56j7k x1kbpmyu x1y1aw1k xf159sx xwib8y2 xmzvs34 x2b8uid"},t[0]=i):i=t[0];var l;t[1]!==a?(l=s.jsx("div",babelHelpers.extends({},i,{children:s.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a})})),t[1]=a,t[2]=l):l=t[2];var u;return t[3]!==n||t[4]!==l?(u=s.jsx(r("MWXPressable.react"),{onPress:n,overlayRadius:"inherit",xstyle:c.pressable,children:l}),t[3]=n,t[4]=l,t[5]=u):u=t[5],u}var m=o("FocusGroup.react").createFocusGroup(o("focusScopeQueries").tabbableScopeQuery),p=m[0],_=m[1];function f(e){var t=o("react-compiler-runtime").c(11),n=e.onPressSuggestion,a=r("useMWChatPromptSuggestions")(),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("div",{className:"x2lah0s x1xc55vz"}),t[0]=i):i=t[0];var l;if(t[1]!==n||t[2]!==a){var u;t[4]!==n?(u=function(t,r){return s.jsx(_,{children:s.jsx(d,{onPress:function(){return n(t,r)},text:t})},r)},t[4]=n,t[5]=u):u=t[5],l=a.map(u),t[1]=n,t[2]=a,t[3]=l}else l=t[3];var m;t[6]!==l?(m=s.jsx(p,{orientation:"horizontal",tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:l}),t[6]=l,t[7]=m):m=t[7];var f;t[8]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:"x2lah0s x1xc55vz"}),t[8]=f):f=t[8];var g;return t[9]!==m?(g=s.jsxs(r("MWXScrollableArea.react"),{horizontal:!0,vertical:!1,xstyle:c.scrollArea,children:[i,m,f]}),t[9]=m,t[10]=g):g=t[10],g}l.default=f}),98);
__d("MWChatPromptDialog.react",["fbt","FBLogger","FocusRegion.react","I64","MWChatPromptFlyoutFrontCard.react","MWChatPromptFlyoutSuggestions.react","MWPromptCreationUtils","MWXDialog.react","MWXDialogFooter.react","MWXDialogHeader.react","MWXText.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","RollCallPromptType","react","react-compiler-runtime","useMWXPushToast","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=e||(e=r("react")),_=m.useCallback,f=m.useState;function g(e){var t=o("react-compiler-runtime").c(47),n=e.onClose,a=e.threadKey,i=(c||(c=r("useReStore")))(),l=r("useMWXPushToast")(),d=f(""),m=d[0],_=d[1],g=f(!1),y=g[0],C=g[1],b;t[0]!==n||t[1]!==a?(b=function(){n(),r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:303,source:156,surface:7,thread_id:(u||(u=o("I64"))).to_string(a)}})},t[0]=n,t[1]=a,t[2]=b):b=t[2];var v=b,S;t[3]!==i||t[4]!==v||t[5]!==m||t[6]!==l||t[7]!==a?(S=function(){(async function(){C(!0),await o("MWPromptCreationUtils").createAuthoritiativeRollCall(i,a,m,r("RollCallPromptType").TEXT),v()})().catch(function(e){C(!1),r("FBLogger")("messenger_web").catching(e).mustfix("Creating prompt"),l({body:s._(/*BTDS*/"\u0397 \u03c0\u03c1\u03bf\u03c4\u03c1\u03bf\u03c0\u03ae \u03b4\u03b5\u03bd \u03b4\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03ae\u03b8\u03b7\u03ba\u03b5")})}),r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:304,source:17,surface:101,thread_id:(u||(u=o("I64"))).to_string(a)}})},t[3]=i,t[4]=v,t[5]=m,t[6]=l,t[7]=a,t[8]=S):S=t[8];var R=S,L;t[9]!==a?(L=function(t,n){_(t.toString()),r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:366,extra:{suggestion_position:n.toString(),suggestion_text:t.toString()},source:173,surface:101,thread_id:(u||(u=o("I64"))).to_string(a)}})},t[9]=a,t[10]=L):L=t[10];var E=L,k=h,I;t[11]!==a?(I={onImpressionStart:function(){r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:2,event_name:301,source:156,surface:7,thread_id:(u||(u=o("I64"))).to_string(a)}})}},t[11]=a,t[12]=I):I=t[12];var T=r("useSinglePartialViewImpression")(I),D;t[13]!==y||t[14]!==m?(D=y||m.trim()==="",t[13]=y,t[14]=m,t[15]=D):D=t[15];var x;t[16]===Symbol.for("react.memo_cache_sentinel")?(x=s._(/*BTDS*/"\u0391\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae"),t[16]=x):x=t[16];var $;t[17]!==R||t[18]!==D?($={disabled:D,label:x,onPress:R},t[17]=R,t[18]=D,t[19]=$):$=t[19];var P;t[20]===Symbol.for("react.memo_cache_sentinel")?(P=s._(/*BTDS*/"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),t[20]=P):P=t[20];var N;t[21]!==v?(N={label:P,onPress:v},t[21]=v,t[22]=N):N=t[22];var M;t[23]!==$||t[24]!==N?(M=p.jsx(r("MWXDialogFooter.react"),{callToActionGroupDirection:"backward",primaryCallToAction:$,secondaryCallToAction:N}),t[23]=$,t[24]=N,t[25]=M):M=t[25];var w;t[26]===Symbol.for("react.memo_cache_sentinel")?(w=s._(/*BTDS*/"\u039d\u03ad\u03b1 \u03c0\u03c1\u03bf\u03c4\u03c1\u03bf\u03c0\u03ae"),t[26]=w):w=t[26];var A;t[27]!==v?(A=p.jsx(r("MWXDialogHeader.react"),{onClose:v,title:w,withCloseButton:!0}),t[27]=v,t[28]=A):A=t[28];var F;t[29]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x6s0dn4 x9f619 x78zum5 xdt5ytf"},t[29]=F):F=t[29];var O;t[30]===Symbol.for("react.memo_cache_sentinel")?(O={className:"x1y1aw1k x1n2onr6"},t[30]=O):O=t[30];var B;t[31]===Symbol.for("react.memo_cache_sentinel")?(B=function(t){_(t.target.value)},t[31]=B):B=t[31];var W;t[32]!==m?(W=p.jsx("div",babelHelpers.extends({},O,{children:p.jsx(r("MWChatPromptFlyoutFrontCard.react"),{maxLength:75,onChange:B,showFacepile:!1,value:m})})),t[32]=m,t[33]=W):W=t[33];var q;t[34]!==E?(q=p.jsx(r("MWChatPromptFlyoutSuggestions.react"),{onPressSuggestion:E}),t[34]=E,t[35]=q):q=t[35];var U;t[36]===Symbol.for("react.memo_cache_sentinel")?(U={className:"xyamay9 x2b8uid"},t[36]=U):U=t[36];var V;t[37]===Symbol.for("react.memo_cache_sentinel")?(V=p.jsx("div",babelHelpers.extends({},U,{children:p.jsx(r("MWXText.react"),{type:"meta4",children:s._(/*BTDS*/"\u03a4\u03b1 \u03bc\u03ad\u03bb\u03b7 \u03bc\u03c0\u03bf\u03c1\u03bf\u03cd\u03bd \u03bd\u03b1 \u03b1\u03c0\u03b1\u03bd\u03c4\u03bf\u03cd\u03bd \u03bc\u03b5 \u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03b3\u03b9\u03b1 24 \u03ce\u03c1\u03b5\u03c2.")})})),t[37]=V):V=t[37];var H;t[38]!==T||t[39]!==W||t[40]!==q?(H=p.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:k,children:p.jsxs("div",babelHelpers.extends({},F,{ref:T,children:[W,q,V]}))}),t[38]=T,t[39]=W,t[40]=q,t[41]=H):H=t[41];var G;return t[42]!==v||t[43]!==M||t[44]!==A||t[45]!==H?(G=p.jsx(r("MWXDialog.react"),{footer:M,header:A,onClose:v,size:"small",children:H}),t[42]=v,t[43]=M,t[44]=A,t[45]=H,t[46]=G):G=t[46],G}function h(e){return e==="textarea"}l.default=g}),226);
__d("NewPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5500"),s=o("FalcoLoggerInternal").create("new_poll_submit_error",e),u=s;l.default=u}),98);
__d("NewPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5501"),s=o("FalcoLoggerInternal").create("new_poll_submit_success",e),u=s;l.default=u}),98);
__d("OpenExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5502"),s=o("FalcoLoggerInternal").create("open_existing_poll",e),u=s;l.default=u}),98);
__d("ShowVotersFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5503"),s=o("FalcoLoggerInternal").create("show_voters",e),u=s;l.default=u}),98);
__d("StartNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5504"),s=o("FalcoLoggerInternal").create("start_new_poll",e),u=s;l.default=u}),98);
__d("SubmitExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5505"),s=o("FalcoLoggerInternal").create("submit_existing_poll",e),u=s;l.default=u}),98);
__d("SubmitNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5506"),s=o("FalcoLoggerInternal").create("submit_new_poll",e),u=s;l.default=u}),98);
__d("MWGroupPollLogger",["ChangeVoteFalcoEvent","ExistingPollSubmitErrorFalcoEvent","ExistingPollSubmitSuccessFalcoEvent","NewPollSubmitErrorFalcoEvent","NewPollSubmitSuccessFalcoEvent","OpenExistingPollFalcoEvent","ShowVotersFalcoEvent","StartNewPollFalcoEvent","SubmitExistingPollFalcoEvent","SubmitNewPollFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(e){case"start_new_poll":r("StartNewPollFalcoEvent").log(function(){return t});break;case"submit_new_poll":r("SubmitNewPollFalcoEvent").log(function(){return t});break;case"open_existing_poll":r("OpenExistingPollFalcoEvent").log(function(){return t});break;case"submit_existing_poll":r("SubmitExistingPollFalcoEvent").log(function(){return t});break;case"change_vote":r("ChangeVoteFalcoEvent").log(function(){return t});break;case"show_voters":r("ShowVotersFalcoEvent").log(function(){return t});break;case"existing_poll_submit_error":r("ExistingPollSubmitErrorFalcoEvent").log(function(){return t});break;case"existing_poll_submit_success":r("ExistingPollSubmitSuccessFalcoEvent").log(function(){return t});break;case"new_poll_submit_error":r("NewPollSubmitErrorFalcoEvent").log(function(){return t});break;case"new_poll_submit_success":r("NewPollSubmitSuccessFalcoEvent").log(function(){return t});break}}l.log=e}),98);
__d("MlsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1401"),s=o("FalcoLoggerInternal").create("mls_message_action",e),u=s;l.default=u}),98);
__d("MWLogMessageAction",["I64","MWLSContactTypeExactUtils","MlsMessageActionFalcoEvent","ReQL","coerceMessagingThreadTypeToLSThreadType"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,a,i,l,s,u,c,d,m,p){var _,f=await(_=o("ReQL")).firstAsync(_.fromTableAscending(t.tables.threads).getKeyRange(a)),g=await _.toArrayAsync(_.fromTableAscending(t.tables.participants).getKeyRange(a)),h=await _.firstAsync(_.mergeJoin(_.fromTableAscending(t.tables.participants).getKeyRange(a),_.fromTableAscending(t.tables.contacts)).filter(function(e){var t=e[0],n=e[1].contactTypeExact;return o("MWLSContactTypeExactUtils").isIgContact(n)}))!=null;f!=null&&r("MlsMessageActionFalcoEvent").log(function(){return{action:l,browser_window_height:window.innerHeight,browser_window_width:window.innerWidth,device_screen_height:window.screen.height,device_screen_width:window.screen.width,error_text:u,extra:s,group_size:String(g.length),is_xac_thread:h,ls_thread_type:r("coerceMessagingThreadTypeToLSThreadType")(f.threadType),message_type:m!=null?m:"text",mid:n,reaction:c,recipient_id:d!=null?(e||(e=o("I64"))).to_string(d):void 0,sender_id:(e||(e=o("I64"))).to_string(p),source:i,thread_id:e.to_string(a)}})}var u={log:s};l.default=u}),98);
__d("MWOpenMediaManagerUtils",["fbt","I64","LSFactory","LSGenerateTraceId","LSIntEnum","LSMarkSubJobCompletedV2StoredProcedure","MWChatInteraction","MWConsole","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","cr:6057","emptyFunction","err","promiseDone","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(e){return n("cr:6057").preload(),Promise.all(e.map(function(e){var t=e[0],n=e[1];if(t.type==="application/zip")return Promise.reject("invalid file type");var r={file:t,offlineAttachmentId:n};return Promise.resolve(r)}))}function d(t,n,a,l,u,c,d,p,_,f,g){u===void 0&&(u=r("emptyFunction")),c===void 0&&(c=r("emptyFunction")),d===void 0&&(d=r("emptyFunction"));var h=function(n,a){var e=a.event;if(e.lengthComputable){var l=e.loaded/e.total;r("promiseDone")(t.runInTransaction(function(e){return o("MWPOpenComposerUtils").updateMediaStaging(e,n,function(e){return babelHelpers.extends({},e,{progress:l})})},"readwrite",void 0,void 0,i.id+":88"))}},y=function(p,_){if(_==null||_.length===0){var u="";r("promiseDone")(t.runInTransaction(function(e){return o("MWPOpenComposerUtils").deleteMediaStaging(e,p).then(function(){return m(e,p)}).then(function(){var e=a.find(function(e){return e.offlineAttachmentId===p});e!=null&&e.file.type==="application/zip"?(l(s._(/*BTDS*/"_j[\"\\u039c\\u03b7 \\u03ad\\u03b3\\u03ba\\u03c5\\u03c1\\u03b7 \\u03bc\\u03bf\\u03c1\\u03c6\\u03ae \\u03b1\\u03c1\\u03c7\\u03b5\\u03af\\u03bf\\u03c5\",\"f90fb65f92ad8ac33f140b8be3c9eed1\",1]"),s._(/*BTDS*/"\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b1\u03c4\u03b5 \u03b4\u03b5\u03bd \u03ad\u03c7\u03b5\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae.")),u="null_fbid_invalid_file_format"):(l(s._(/*BTDS*/"\u03a4\u03bf \u03b1\u03bd\u03ad\u03b2\u03b1\u03c3\u03bc\u03b1 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5")),u="null_fbid_other")})},"readwrite",void 0,void 0,i.id+":106"),function(){return d(u,p)});return}r("promiseDone")(t.runInTransaction(function(t){var a=o("MWPOpenComposerUtils").updateMediaStaging(t,p,function(t){return babelHelpers.extends({},t,{fbid:(e||(e=o("I64"))).of_string(_),progress:1})}),i=t.media_send_jobs.get(p).then(function(a){if(a==null)return Promise.resolve();var i=r("LSFactory")(t),l=a.offlineThreadingId,s=a.offlineAttachmentId;return r("LSMarkSubJobCompletedV2StoredProcedure")(i,{fbid:(e||(e=o("I64"))).of_string(_),offlineAttachmentId:p}).then(function(){return o("MWPOpenComposerUtils").deleteMediaStaging(t,p)}).then(function(){return o("MWPOpenComposerUtils").updateAttachment(t,n,l,s,function(e){return babelHelpers.extends({},e,{attachmentFbid:_.toString()})})}).then(function(){return o("MWPOpenComposerUtils").resumeSendJob(i,l,r("LSGenerateTraceId")())})});return Promise.all([a,i])},"readwrite",void 0,void 0,i.id+":145"),function(){return c(p)})},C=function(n,a){r("promiseDone")(t.runInTransaction(function(e){return o("MWPOpenComposerUtils").updateMediaStaging(e,n,function(e){return babelHelpers.extends({},e,{hasError:!0})}).then(function(){return m(e,n,a)})},"readwrite",void 0,void 0,i.id+":198"),function(){var e;d((e=a.response.getErrorDescriptionString())!=null?e:"unknown_upload_failure",n)})},b=a.map(function(e){return e.offlineAttachmentId}),v=a.map(function(e){return e.file});return o("MWPComposerMediaUploadUtil").startUpload(u,h,y,C,void 0,v,b,p,_,void 0,f,g)}async function m(e,t,n){var a=await e.media_send_jobs.get(t);if(a!=null){var i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("optimistic")).getKeyRange(a.offlineThreadingId));if(i!=null){var l=babelHelpers.extends({},i,{sendStatusV2:(u||(u=o("LSIntEnum"))).ofNumber(4)}),s=p(a.offlineThreadingId);if(s!=null){var c,d,m,_="failed_upload_media_to_backend";n!=null&&(c=n.response)!=null&&(c=c.payload)!=null&&(c=c.responseText)!=null&&c.includes("InvariantViolationException")&&n!=null&&(d=n.response)!=null&&(d=d.payload)!=null&&(d=d.responseText)!=null&&d.includes("Null handle provided to EverstoreApi")&&(_="video_thumbail_missing"),o("sendToSentQPLLogger").markSendToSentFail(s,"failed_upload_media_to_backend",r("err")(_+": "+((m=n==null?void 0:n.response.error)!=null?m:"unknown error code")))}await e.messages.put(l)}}}function p(e){var t=o("MWChatInteraction").get(o("MWChatInteraction").s2sKey(e));return t==null?null:Number(t)}l.preprocess=c,l.upload=d}),226);
__d("MWPinnedMessagesDialogNUXFactoryRequireNUX.react",["nux:345"],(function(t,n,r,o,a,i,l){"use strict";var e=function(){var e;return(e=n("nux:345"))==null?void 0:e("WEB_MSGR_PINNED_MESSAGES_NUX")},s=e;l.default=s}),98);
__d("useMAWToggleSecurePinMessage",["I64","LSFactory","LSOptimisticSetOrUnsetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","react","useAsyncReStore","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(e,t){var n=r("useAsyncReStore")(),a=r("useMWPIsMessagePinned")(e),l=e.offlineThreadingId,c=e.threadKey,d=o("ServerTime").getMillis(),m=r("MessengerWebUXLogger").useInteractionLogger(),p=async function(){var e=await n,u=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(c));await e.runInTransaction(function(e){var n=a?r("LSPinnedMessageState").NOT_PINNED:r("LSPinnedMessageState").PINNED,i=a?"unpin_message":"pin_message",p=a?"unpin":"pin";return t==="message_dot_menu"?m==null||m({eventName:i,threadKey:c,threadType:u==null?void 0:u.threadType}):p==="unpin"&&t==="pinned_message_list_dot_menu"&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin"),r("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure")(r("LSFactory")(e),{offlineThreadingId:l,state:(s||(s=o("I64"))).of_int32(n),threadKey:c,timestampMs:s.of_int32(d)})},"readwrite",void 0,void 0,i.id+":51")};return u(p,[n,a,c,d,l,t,m])}l.default=c}),98);
__d("useMWPinnedMessageLimitReached",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=50;function u(t){var n=o("react-compiler-runtime").c(12),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.msg_pinned_messages_v2||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.msg_pinned_messages_v2).getKeyRange(t)},n[0]=a.tables.msg_pinned_messages_v2,n[1]=t,n[2]=l):l=n[2];var u;n[3]!==a||n[4]!==t?(u=[a,t],n[3]=a,n[4]=t,n[5]=u):u=n[5];var c=o("ReQLSuspense").useArray(l,u,i.id+":27").length,d;n[6]!==a.tables.client_web_pinned_messages||n[7]!==t?(d=function(){return o("ReQL").fromTableAscending(a.tables.client_web_pinned_messages).getKeyRange(t)},n[6]=a.tables.client_web_pinned_messages,n[7]=t,n[8]=d):d=n[8];var m;n[9]!==a||n[10]!==t?(m=[a,t],n[9]=a,n[10]=t,n[11]=m):m=n[11];var p=o("ReQLSuspense").useArray(d,m,i.id+":35").length;return c>=s||p>=s}l.default=u}),98);
__d("useMWTogglePinMessage",["I64","LSFactory","LSOptimisticSetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPActor.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","promiseDone","react","requireDeferred","useAsyncReStore","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback,c=r("requireDeferred")("MWLogMessageAction").__setRef("useMWTogglePinMessage");function d(e,t){var n=r("useAsyncReStore")(),a=r("useMWPIsMessagePinned")(e),l=e.messageId,d=e.senderId,m=e.threadKey,p=o("ServerTime").getMillis(),_=o("MWPActor.react").useActor(),f=r("MessengerWebUXLogger").useInteractionLogger(),g=async function(){var e=await n,u=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(m));await e.runInTransaction(function(n){var i=a?r("LSPinnedMessageState").NOT_PINNED:r("LSPinnedMessageState").PINNED,g=a?"unpin_message":"pin_message",h=a?"unpin":"pin";return t==="message_dot_menu"?(c.onReady(function(n){return r("promiseDone")(n.log(e,l,m,t,h,void 0,void 0,void 0,d,void 0,_))}),f==null||f({eventName:g,threadKey:m,threadType:u==null?void 0:u.threadType})):h==="unpin"&&t==="pinned_message_list_dot_menu"&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin"),r("LSOptimisticSetPinnedMessageStoredProcedure")(r("LSFactory")(n),{messageId:l,pinnedTimestampMs:(s||(s=o("I64"))).of_int32(p),state:s.of_int32(i),threadKey:m})},"readwrite",void 0,void 0,i.id+":58")};return u(g,[_,n,a,m,p,t,l,d,f])}l.default=d}),98);
__d("MWPinMessageMenuItem.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWLSThread","MWPinnedMessagesDialogNUXFactoryRequireNUX.react","MWXMenuItem.react","promiseDone","react","useMAWToggleSecurePinMessage","useMWPIsMessagePinned","useMWPinnedMessageLimitReached","useMWTogglePinMessage","useMWXLazyDialog","useSharedNUX"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("JSResourceForInteraction")("MWPinnedMessageLimitReachedDialog.react").__setRef("MWPinMessageMenuItem.react");function d(e){var t=e.message,n=e.onClick,a=e.onPinCompleted,i=s._(/*BTDS*/"\u039a\u03b1\u03c1\u03c6\u03af\u03c4\u03c3\u03c9\u03bc\u03b1"),l=s._(/*BTDS*/"\u039e\u03b5\u03ba\u03b1\u03c1\u03c6\u03af\u03c4\u03c3\u03c9\u03bc\u03b1"),d=r("useMWPIsMessagePinned")(t),m=r("MWPinnedMessagesDialogNUXFactoryRequireNUX.react")(),p=r("useMWXLazyDialog")(c),_=p[0],f=o("MWLSThread").useThread(t.threadKey),g=f!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(f==null?void 0:f.threadType),h=r("useMWTogglePinMessage")(t,"message_dot_menu"),y=r("useMAWToggleSecurePinMessage")(t,"message_dot_menu"),C=g?y:h,b=r("useMWPinnedMessageLimitReached")(t.threadKey),v=r("useSharedNUX")("WEB_MSGR_PINNED_MESSAGES_NUX"),S=v[0],R=function(t){return m!=null?m({children:t,dialogProps:{onClose:function(){},pinMessageHandler:function(){return r("promiseDone")(C(),a)}}}):u.jsx(u.Fragment,{children:t(function(){return r("promiseDone")(C(),a)})})},L=function(o){return u.jsx(r("MWXMenuItem.react"),{"aria-haspopup":!d&&S?"dialog":void 0,onClick:function(a){if(b&&!d)return _({threadKey:t.threadKey},function(){});d?r("promiseDone")(C()):o(),n&&n(d)},primaryText:d?l:i})};return R(L)}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWPinnedMessagesDialogNUXFactory.react",["JSResourceForInteraction","MWInboxPersistedUIState","declareNUXRequireable","react","react-compiler-runtime","useMWXLazyDialog","useSharedNUX"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo,m=r("JSResourceForInteraction")("MWPinnedMessagesDialogNUX.react").__setRef("MWPinnedMessagesDialogNUXFactory.react");function p(e){function t(t){var n=o("react-compiler-runtime").c(15),a=t.children,i=t.dialogProps,l=r("useSharedNUX")(e),s=l[0],u=l[1],c=o("MWInboxPersistedUIState").usePersistedUIState(void 0,"__MWSimpleNux."+e+"__"),d=c[1],p;n[0]!==u||n[1]!==d?(p=function(){d(void 0),u.onDismiss()},n[0]=u,n[1]=d,n[2]=p):p=n[2];var _=p,f;n[3]!==i.pinMessageHandler||n[4]!==_?(f={onDismiss:_,pinMessageHandler:i.pinMessageHandler},n[3]=i.pinMessageHandler,n[4]=_,n[5]=f):f=n[5];var g=f,h=r("useMWXLazyDialog")(m),y=h[0],C;n[6]!==g||n[7]!==y?(C=function(){return y(g)},n[6]=g,n[7]=y,n[8]=C):C=n[8];var b=C;if(s){var v;return n[9]!==a||n[10]!==b?(v=a(b),n[9]=a,n[10]=b,n[11]=v):v=n[11],v}var S;return n[12]!==a||n[13]!==i.pinMessageHandler?(S=a(i.pinMessageHandler),n[12]=a,n[13]=i.pinMessageHandler,n[14]=S):S=n[14],S}return t}var _=r("declareNUXRequireable")(p);l.default=_}),98);
__d("MWV2ChatHotlikeSoundsConfig",["bx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=r("bx")).getURL(e("273031")),u=e.getURL(e("273032")),c=e.getURL(e("273039")),d=e.getURL(e("273040")),m=e.getURL(e("273033")),p=e.getURL(e("273034")),_=e.getURL(e("273035")),f=e.getURL(e("273036")),g=e.getURL(e("273037")),h=e.getURL(e("273038"));l.hotlikeGrowMp3Url=s,l.hotlikeGrowOggUrl=u,l.hotlikePopMp3Url=c,l.hotlikePopOggUrl=d,l.hotlikeOutgoingLargeMp3Url=m,l.hotlikeOutgoingLargeOggUrl=p,l.hotlikeOutgoingMediumMp3Url=_,l.hotlikeOutgoingMediumOggUrl=f,l.hotlikeOutgoingSmallMp3Url=g,l.hotlikeOutgoingSmallOggUrl=h}),98);
__d("MWV2ChatHotlikeSounds",["LSHotEmojiSize","MWChatSettingsQuery","MWV2ChatHotlikeSoundsConfig","Sound"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e=o("MWV2ChatHotlikeSoundsConfig")).hotlikeGrowMp3Url,e.hotlikeGrowOggUrl],u=[e.hotlikePopMp3Url,e.hotlikePopOggUrl],c=[e.hotlikeOutgoingSmallMp3Url,e.hotlikeOutgoingSmallOggUrl],d=[e.hotlikeOutgoingMediumMp3Url,e.hotlikeOutgoingMediumOggUrl],m=[e.hotlikeOutgoingLargeMp3Url,e.hotlikeOutgoingLargeOggUrl],p=!1;function _(){p=!1,y(s)}function f(){p=!0,o("Sound").stop(s)}function g(){f(),y(u)}function h(e){f(),e===r("LSHotEmojiSize").SMALL?y(c):e===r("LSHotEmojiSize").MEDIUM?y(d):e===r("LSHotEmojiSize").LARGE&&y(m)}function y(e){o("MWChatSettingsQuery").areChatTabsSoundsOn(function(t){var n=e===s&&p;!n&&t!=null&&t===!0&&o("Sound").play(e,void 0,!1)})}l.start=_,l.pop=g,l.snap=h}),98);
__d("MWV2ForwardMenuItem.react",["fbt","I64","LSMessagingThreadTypeUtil","MWPActor.react","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","react","react-compiler-runtime","useMWV2MessageForwardAction","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e.useContext;function m(e){var t=o("react-compiler-runtime").c(12),n=e.message,a=e.threadType,i=r("MessengerWebUXLogger").useInteractionLogger(),l=d(o("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),m=l.setLoggingData,p=o("MWPActor.react").useActor(),_;t[0]!==a?(_=o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),t[0]=a,t[1]=_):_=t[1];var f=_,g=r("useMWV2MessageForwardAction")(f,n,a),h;t[2]!==p||t[3]!==g||t[4]!==i||t[5]!==n||t[6]!==m||t[7]!==a?(h=function(){var e=n.threadKey,t=(u||(u=o("I64"))).equal(n.senderId,p),l={extraData:{actor_type:t?"sender":"receiver",component:"MWV2ForwardMenuItem"},flowInstanceId:r("uuidv4")(),threadKey:e,threadType:a};i==null||i(babelHelpers.extends({},l,{eventName:"open_forward_message_dialog"})),m(l),g()},t[2]=p,t[3]=g,t[4]=i,t[5]=n,t[6]=m,t[7]=a,t[8]=h):h=t[8];var y=h,C;t[9]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"\u03a0\u03c1\u03bf\u03ce\u03b8\u03b7\u03c3\u03b7"),t[9]=C):C=t[9];var b=C,v;return t[10]!==y?(v=c.jsx(r("MWXMenuItem.react"),{"aria-label":b,onClick:y,primaryText:b,testid:void 0}),t[10]=y,t[11]=v):v=t[11],v}l.default=m}),226);
__d("useMWLSMessageReportingToken",["I64","Int64Hooks","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var r=o("react-compiler-runtime").c(4),a,i;return r[0]!==t||r[1]!==n?(a=function(){return btoa("message_thread:"+(e||(e=o("I64"))).to_string(n)+":"+t)},i=[t,n],r[0]=t,r[1]=n,r[2]=a,r[3]=i):(a=r[2],i=r[3]),o("Int64Hooks").useMemoInt64(a,i)}l.default=s}),98);
__d("MWV2GlobalReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","LSMessagingThreadTypeUtil","MWReportingUtils","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(15),n=e.icon,a=e.messageId,i=e.threadKey,l=e.threadType,c;t[0]!==l?(c=o("LSMessagingThreadTypeUtil").isArmadilloSecure(l),t[0]=l,t[1]=c):c=t[1];var d=c,m=r("useMWLSMessageReportingToken")(a,i),p="report_long_press",_=o("MWReportingUtils").useGetNFXStoryLocationType(l),f;t[2]!==d||t[3]!==m?(f=d?window.btoa("message_thread:encrypted"):m,t[2]=d,t[3]=m,t[4]=f):f=t[4];var g;t[5]!==_||t[6]!==f?(g={entryPoint:p,id:f,location:_},t[5]=_,t[6]=f,t[7]=g):g=t[7];var h=g,y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"\u0391\u03bd\u03b1\u03c6\u03bf\u03c1\u03ac"),t[8]=y):y=t[8];var C=y,b=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),h),v=b[0],S;t[9]!==v||t[10]!==i?(S=function(){v({threadKey:i})},t[9]=v,t[10]=i,t[11]=S):S=t[11];var R=S,L;return t[12]!==n||t[13]!==R?(L=u.jsx(r("MWXMenuItem.react"),{"aria-label":C,icon:n,loggingEvent:"report_thread",onClick:R,primaryText:C}),t[12]=n,t[13]=R,t[14]=L):L=t[14],L}l.default=d}),226);
__d("MWV2MessageReactionMenuItem.react",["fbt","MWChatReactionsActionContainer.react","MWV2MessageRowActionsContext.react","MWXMenuItem.react","ODS","emptyFunction","react","useMWChatReactionsActionContainerProps.react","useMWV2ShouldDisableReactions.react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect;function _(e){var t=e.closeActionsMenu,n=e.message,a=e.onReactionsSendLogger,i=e.reactionsPopoverResource,l=e.threadType,d=s._(/*BTDS*/"\u0391\u03bd\u03c4\u03af\u03b4\u03c1\u03b1\u03c3\u03b7"),_=r("useMWV2ShouldDisableReactions.react")(l,n.threadKey),f=o("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),g=f.openReactionsMenu,h=m(function(){g.current=r("emptyFunction")},[g]);p(function(){return h},[h]);var y=r("useMWChatReactionsActionContainerProps.react")(n,t,l,a,r("emptyFunction"),i);return _?null:c.jsx(r("MWChatReactionsActionContainer.react"),babelHelpers.extends({},y,{children:function(t,n,a,i,l,s){var e=function(){n(),(u||(u=o("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")};return g.current=e,c.jsx(r("MWXMenuItem.react"),{"aria-label":d,loggingEvent:"click_react_to_message",onClick:e,onHoverIn:i,onHoverOut:l,onPressIn:s,preventClosingMenuOnSelect:!0,primaryText:d,ref:t})}}))}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWV2RemoveMenuItem.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSDeleteMessageStoredProcedure","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWMessageDeliveryStatus","MWPActor.react","MWV2LogMessageClick","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","gkx","isDeliveryStatusErrorState","mwCMIsAnyCMThread","promiseDone","react","react-compiler-runtime","useGetMediaGroupInformation","useHandleRemoveLocalMessage","useIsSecureMessage","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useContext,f=p.useRef,g=r("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2RemoveMenuItem.react");function h(t){var n=o("react-compiler-runtime").c(61),a=t.canRemoveMessageGlobally,l=t.canRemoveMessageLocally,d=t.hasUnremovablelSubthread,p=t.learnMoreOnMessageRemove,h=t.message,y=t.onRemoveMessageLogger,C=t.threadType,b=t.title,v=d===void 0?!1:d,S=(e||(e=r("useReStore")))(),R=h.messageId,L=h.threadKey,E;n[0]!==C?(E={fallbackThreadType:C},n[0]=C,n[1]=E):E=n[1];var k=r("useIsSecureMessage")(S,h,E),I=r("useGetMediaGroupInformation")(h,k),T;n[2]!==h.sendStatusV2||n[3]!==C?(T=r("mwCMIsAnyCMThread")(C)&&(u||(u=o("I64"))).equal(h.sendStatusV2,(c||(c=o("LSIntEnum"))).ofNumber(4)),n[2]=h.sendStatusV2,n[3]=C,n[4]=T):T=n[4];var D=T,x,$;n[5]!==S||n[6]!==R||n[7]!==L?(x=function(){r("promiseDone")(S.runInTransaction(function(e){return r("LSDeleteMessageStoredProcedure")(r("LSFactory")(e),{messageId:R,threadKey:L})},"readwrite",void 0,void 0,i.id+":81"))},$=[S,L,R],n[5]=S,n[6]=R,n[7]=L,n[8]=x,n[9]=$):(x=n[8],$=n[9]);var P=o("Int64Hooks").useCallbackInt64(x,$),N=f(null),M=o("MWPActor.react").useActor(),w;n[10]!==M||n[11]!==h.senderId?(w=(u||(u=o("I64"))).equal(h.senderId,M),n[10]=M,n[11]=h.senderId,n[12]=w):w=n[12];var A=w,F=A&&a,O;n[13]!==p||n[14]!==h||n[15]!==b?(O={learnMoreOnMessageRemove:p,message:h,title:b},n[13]=p,n[14]=h,n[15]=b,n[16]=O):O=n[16];var B=O,W;n[17]!==a||n[18]!==l||n[19]!==p||n[20]!==h||n[21]!==y||n[22]!==C||n[23]!==b?(W={canRemoveMessageGlobally:a,canRemoveMessageLocally:l,learnMoreOnMessageRemove:p,message:h,removeLogger:y,threadType:C,title:b},n[17]=a,n[18]=l,n[19]=p,n[20]=h,n[21]=y,n[22]=C,n[23]=b,n[24]=W):W=n[24];var q=W,U=r("MessengerWebUXLogger").useInteractionLogger(),V=_(o("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),H=V.setLoggingData,G;n[25]===Symbol.for("react.memo_cache_sentinel")?(G={},n[25]=G):G=n[25];var z=r("useMWXEntryPointDialog")(r("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),G),j=z[0],K=r("useMWXLazyDialog")(g),Q=K[0],X=r("useHandleRemoveLocalMessage")(C,h,y),Y;n[26]!==q||n[27]!==B||n[28]!==A||n[29]!==h.isUnsent||n[30]!==h.sendStatusV2||n[31]!==X||n[32]!==Q||n[33]!==j||n[34]!==C?(Y=function(t){if(r("isDeliveryStatusErrorState")(o("MWMessageDeliveryStatus").getFromSendStatus(h.sendStatusV2))){X(t);return}o("MWCMThreadTypes.react").isJoinedCMThread(C)||o("LSMessagingThreadTypeUtil").isDiscoverableChannel(C)||A&&!r("gkx")("24140")&&!h.isUnsent||o("LSMessagingThreadTypeUtil").isCMSubthread(C)?j(B):Q(q)},n[26]=q,n[27]=B,n[28]=A,n[29]=h.isUnsent,n[30]=h.sendStatusV2,n[31]=X,n[32]=Q,n[33]=j,n[34]=C,n[35]=Y):Y=n[35];var J=Y,Z;n[36]!==S||n[37]!==P||n[38]!==D||n[39]!==A||n[40]!==U||n[41]!==h||n[42]!==J||n[43]!==H||n[44]!==L||n[45]!==C?(Z=function(){var e={extraData:{actor_type:A?"sender":"receiver"},flowInstanceId:r("uuidv4")(),threadKey:L,threadType:C};return U==null||U(babelHelpers.extends({},e,{eventName:"message_remove_attempt"})),H(e),o("MWV2LogMessageClick").log(S,h,45),h.subscriptErrorMessage!=null&&D?P():J(e)},n[36]=S,n[37]=P,n[38]=D,n[39]=A,n[40]=U,n[41]=h,n[42]=J,n[43]=H,n[44]=L,n[45]=C,n[46]=Z):Z=n[46];var ee=Z,te;n[47]!==F?(te=F?s._(/*BTDS*/"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 \u03b1\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae\u03c2 \u03bc\u03b7\u03bd\u03cd\u03bc\u03b1\u03c4\u03bf\u03c2"):s._(/*BTDS*/"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u03bc\u03b7\u03bd\u03cd\u03bc\u03b1\u03c4\u03bf\u03c2"),n[47]=F,n[48]=te):te=n[48];var ne;n[49]!==F?(ne=F?s._(/*BTDS*/"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 \u03b1\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae\u03c2"):s._(/*BTDS*/"\u0391\u03c6\u03b1\u03af\u03c1\u03b5\u03c3\u03b7"),n[49]=F,n[50]=ne):ne=n[50];var re;n[51]!==v||n[52]!==A||n[53]!==I?(re=I!=null&&(I!=null&&I.hasMissingMessages||I!=null&&I.hasMissingMedia)?A?s._(/*BTDS*/"\u0397 \u03b1\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae \u03c4\u03c9\u03bd \u03b5\u03b9\u03ba\u03cc\u03bd\u03c9\u03bd \u03c0\u03bf\u03c5 \u03b4\u03b5\u03bd \u03c6\u03bf\u03c1\u03c4\u03ce\u03b8\u03b7\u03ba\u03b1\u03bd \u03b4\u03b5\u03bd \u03b8\u03b1 \u03b1\u03ba\u03c5\u03c1\u03c9\u03b8\u03b5\u03af"):s._(/*BTDS*/"\u039f\u03b9 \u03b5\u03b9\u03ba\u03cc\u03bd\u03b5\u03c2 \u03c0\u03bf\u03c5 \u03b4\u03b5\u03bd \u03c6\u03bf\u03c1\u03c4\u03ce\u03b8\u03b7\u03ba\u03b1\u03bd \u03b4\u03b5\u03bd \u03b8\u03b1 \u03b1\u03c6\u03b1\u03b9\u03c1\u03b5\u03b8\u03bf\u03cd\u03bd"):v?s._(/*BTDS*/"\u0394\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u03bc\u03b7\u03bd\u03c5\u03bc\u03ac\u03c4\u03c9\u03bd \u03bc\u03b5 \u03c0\u03b1\u03c1\u03ac\u03bb\u03bb\u03b7\u03bb\u03b5\u03c2 \u03c3\u03c5\u03bd\u03bf\u03bc\u03b9\u03bb\u03af\u03b5\u03c2"):void 0,n[51]=v,n[52]=A,n[53]=I,n[54]=re):re=n[54];var oe;return n[55]!==ee||n[56]!==v||n[57]!==te||n[58]!==ne||n[59]!==re?(oe=m.jsx(r("MWXMenuItem.react"),{"aria-label":te,disabled:v,onClick:ee,primaryText:ne,ref:N,secondaryText:re,testid:void 0}),n[55]=ee,n[56]=v,n[57]=te,n[58]=ne,n[59]=re,n[60]=oe):oe=n[60],oe}l.default=h}),226);
__d("MWV2ReplyMenuItem.react",["fbt","MWPReplyContext.react","MWXMenuItem.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useContext;function d(e){var t=o("react-compiler-runtime").c(8),n=e.message,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"\u0391\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7"),t[0]=a):a=t[0];var i=a,l=c(o("MWPReplyContext.react").MWPReplyContext),d=l.setReply,m;return t[1]!==n.messageId||t[2]!==n.offlineThreadingId||t[3]!==n.sendStatusV2||t[4]!==n.threadKey||t[5]!==n.timestampMs||t[6]!==d?(m=u.jsx(r("MWXMenuItem.react"),{"aria-label":i,onClick:function(){return d({messageId:n.messageId,offlineThreadingId:n.offlineThreadingId,sendStatusV2:n.sendStatusV2,threadKey:n.threadKey,timestampMs:n.timestampMs},n.threadKey)},primaryText:i,testid:void 0}),t[1]=n.messageId,t[2]=n.offlineThreadingId,t[3]=n.sendStatusV2,t[4]=n.threadKey,t[5]=n.timestampMs,t[6]=d,t[7]=m):m=t[7],m}l.default=d}),226);
__d("MWV2ReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.isSubthread,a=e.message,i=n===void 0?!1:n,l=r("useMWLSMessageReportingToken")(a.messageId,a.threadKey),c=i?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details",d;t[0]!==l||t[1]!==c?(d={entryPoint:"groups_report_long_press_to_admin",id:l,location:c},t[0]=l,t[1]=c,t[2]=d):d=t[2];var m=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),d),p=m[0],_;t[3]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"\u0391\u03bd\u03b1\u03c6\u03bf\u03c1\u03ac \u03c3\u03c4\u03bf\u03c5\u03c2 \u03b4\u03b9\u03b1\u03c7\u03b5\u03b9\u03c1\u03b9\u03c3\u03c4\u03ad\u03c2 \u03c4\u03b7\u03c2 \u03bf\u03bc\u03ac\u03b4\u03b1\u03c2"),t[3]=_):_=t[3];var f=_,g;return t[4]!==p?(g=u.jsx(r("MWXMenuItem.react"),{"aria-label":f,onClick:function(){return p({})},primaryText:f,testid:void 0}),t[4]=p,t[5]=g):g=t[5],g}l.default=c}),226);
__d("MWV2ReportMessageToFBMenuItem.react",["CometFRX.entrypoint","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(13),n=e.icon,a=e.isSubthread,i=e.menuItemLabel,l=e.messageId,u=e.onReportLogger,c=e.threadKey,d=a===void 0?!1:a,m=r("useMWLSMessageReportingToken")(l,c),p=d?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details",_;t[0]!==m||t[1]!==p?(_={entryPoint:"report_long_press",id:m,location:p},t[0]=m,t[1]=p,t[2]=_):_=t[2];var f=_,g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g={},t[3]=g):g=t[3];var h=g,y=f,C=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),y),b=C[0],v;t[4]!==b?(v=function(){return b(h)},t[4]=b,t[5]=v):v=t[5];var S=v,R;t[6]!==u||t[7]!==S?(R=function(){u&&u(),S()},t[6]=u,t[7]=S,t[8]=R):R=t[8];var L;return t[9]!==n||t[10]!==i||t[11]!==R?(L=s.jsx(r("MWXMenuItem.react"),{"aria-label":i,icon:n,onClick:R,primaryText:i}),t[9]=n,t[10]=i,t[11]=R,t[12]=L):L=t[12],L}l.default=u}),98);
__d("useSubthreadShouldShowReplyCTAForMessage",["ChatGeminiDisplayContextProvider.react","gkx","react-compiler-runtime","useSubthreadInfoSafeForNonWork"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(3),a=r("useSubthreadInfoSafeForNonWork")(e,t),i=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),l=r("gkx")("16795")&&(i==null?void 0:i.displaySurface)!=="subthread"&&a!=null,s;return n[0]!==l||n[1]!==a?(s={shouldShowSubthreadCTA:l,subthread:a},n[0]=l,n[1]=a,n[2]=s):s=n[2],s}l.default=e}),98);
__d("MWV2ContextualActionsMenu.react",["fbt","BusinessMessageNegativeFeedbackMenuItem.react","BusinessMessagePositiveFeedbackMenuItem.react","FDSMenuSeparator.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWEditMenuItem.react","MWBroadcastChannelLoggingShapes","MWCMCreateSubthreadMenuItem.react","MWChatMessageBothOrientationFocusGroup.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWPThreadCapabilitiesContext","MWPinMessageMenuItem.react","MWV2ForwardMenuItem.react","MWV2GlobalReportMessageMenuItem.react","MWV2MessageReactionMenuItem.react","MWV2RemoveMenuItem.react","MWV2ReplyMenuItem.react","MWV2ReportMessageMenuItem.react","MWV2ReportMessageToFBMenuItem.react","MWXMenu.react","MWXPopover.react","MessagingAttachmentType","MessagingThreadSubtype","WebUXLoggingSurfaceContextProvider","cr:1111","cr:1200","cr:12502","cr:12503","cr:2243","cr:4140","cr:5790","focusScopeQueries","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPCanUserEditMessage","useSubthreadShouldShowReplyCTAForMessage"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react"));function p(e,t){var n=o("react-compiler-runtime").c(1),r;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r={messageKeys:null,reactionsKeys:null},n[0]=r):r=n[0],r}var _=(e=n("cr:12503"))!=null?e:p;function f(e){var t,a=o("react-compiler-runtime").c(109),i=e.attachment,l=e.canRemoveMessageGlobally,u=e.canRemoveMessageLocally,p=e.containerThreadKey,f=e.extraActions,g=e.isOutgoing,h=e.isSecureMessage,y=e.learnMoreOnMessageRemove,C=e.message,b=e.onClose,v=e.onRemoveMessageLogger,S=e.removeMessageDialogTitle,R=e.showBusinessMessageFeedbackOptionsInContextualMenu,L=e.showCreateSubthread,E=e.showFeedbackOptionsInContextualMenu,k=e.showForwardActionInContextualMenu,I=e.showPinMessageActionInContextualMenu,T=e.showReactionInContextualMenu,D=e.showReplyActionInContextualMenu,x=e.showReportCommunityMessageToAdmin,$=e.showReportCommunityMessageToFacebook,P=e.showReportMessageToFacebook,N=e.showUnsendInContextualMenu,M=e.thread,w=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),A=w.blurMediaEnabled,F=r("gkx")("24098")&&A,O;a[0]!==i?(O=i!=null?(c||(c=o("I64"))).equal(i.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)):!1,a[0]=i,a[1]=O):O=a[1];var B=O,W;a[2]!==i?(W=i!=null?(c||(c=o("I64"))).equal(i.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)):!1,a[2]=i,a[3]=W):W=a[3];var q=W,U=F&&(B||q),V=r("useMWEntrypoint")(),H=M==null?void 0:M.threadType,G=M==null?void 0:M.threadSubtype,z=r("useMWFalcoFeatureEventLogger")(C.threadKey,H),j=r("useSubthreadShouldShowReplyCTAForMessage")(C.threadKey,C.messageId),K=j.shouldShowSubthreadCTA,Q=o("MWPActor.react").useActor(),X;a[4]!==Q||a[5]!==C.senderId?(X=(c||(c=o("I64"))).equal(C.senderId,Q),a[4]=Q,a[5]=C.senderId,a[6]=X):X=a[6];var Y=X,J=Y&&!((t=C.isUnsent)!=null&&t),Z=K&&!J,ee;a[7]===Symbol.for("react.memo_cache_sentinel")?(ee=s._(/*BTDS*/"\u03a0\u03b5\u03c1\u03b9\u03c3\u03c3\u03cc\u03c4\u03b5\u03c1\u03b5\u03c2 \u03b5\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),a[7]=ee):ee=a[7];var te=ee,ne;a[8]!==G?(ne=G!=null&&(c||(c=o("I64"))).equal(G,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD)),a[8]=G,a[9]=ne):ne=a[9];var re=ne,oe=r("useMWPCanUserEditMessage")(C,M,p),ae;a[10]!==M.threadType?(ae=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(M.threadType),a[10]=M.threadType,a[11]=ae):ae=a[11];var ie=ae,le=o("MWEncryptedBackupsSharedState").useEBSharedStateEntry(r("MWEncryptedBackupsLocalStorageEntryEnum").VERIFY_KEYS_IN_CHAT_ENABLED),se=le[0],ue=se==="true",ce=_(C,h),de=ce.messageKeys,me=ce.reactionsKeys,pe;a[12]!==C||a[13]!==U||a[14]!==D?(pe=D&&!U?m.jsx(r("MWV2ReplyMenuItem.react"),{message:C}):null,a[12]=C,a[13]=U,a[14]=D,a[15]=pe):pe=a[15];var _e;a[16]!==C||a[17]!==b||a[18]!==T||a[19]!==H?(_e=T?m.jsx(r("MWV2MessageReactionMenuItem.react"),{closeActionsMenu:b,message:C,threadType:H}):null,a[16]=C,a[17]=b,a[18]=T,a[19]=H,a[20]=_e):_e=a[20];var fe;a[21]!==C||a[22]!==oe||a[23]!==H?(fe=oe?m.jsx(r("MAWEditMenuItem.react"),{message:C,threadType:H}):null,a[21]=C,a[22]=oe,a[23]=H,a[24]=fe):fe=a[24];var ge;a[25]!==l||a[26]!==u||a[27]!==Z||a[28]!==y||a[29]!==C||a[30]!==v||a[31]!==S||a[32]!==N||a[33]!==H?(ge=N?m.jsx(r("MWV2RemoveMenuItem.react"),{canRemoveMessageGlobally:l,canRemoveMessageLocally:u,hasUnremovablelSubthread:Z,learnMoreOnMessageRemove:y,message:C,onRemoveMessageLogger:v,threadType:H,title:S}):null,a[25]=l,a[26]=u,a[27]=Z,a[28]=y,a[29]=C,a[30]=v,a[31]=S,a[32]=N,a[33]=H,a[34]=ge):ge=a[34];var he;a[35]!==C||a[36]!==k||a[37]!==H?(he=k?m.jsx(r("MWV2ForwardMenuItem.react"),{message:C,threadType:H}):null,a[35]=C,a[36]=k,a[37]=H,a[38]=he):he=a[38];var ye;a[39]!==C||a[40]!==L?(ye=L?m.jsx(r("MWCMCreateSubthreadMenuItem.react"),{message:C}):null,a[39]=C,a[40]=L,a[41]=ye):ye=a[41];var Ce;a[42]!==V||a[43]!==ie||a[44]!==z||a[45]!==C||a[46]!==I||a[47]!==M.threadKey?(Ce=I?m.jsx(r("MWPinMessageMenuItem.react"),{message:C,onClick:function(t){if(ie){var e=t?o("MWBroadcastChannelLoggingShapes").UNPIN_MESSAGE:o("MWBroadcastChannelLoggingShapes").PIN_MESSAGE;o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers.extends({},e,{threadFbid:M.threadKey}))}},onPinCompleted:function(){z(V,"pin_message")}}):null,a[42]=V,a[43]=ie,a[44]=z,a[45]=C,a[46]=I,a[47]=M.threadKey,a[48]=Ce):Ce=a[48];var be;a[49]!==C||a[50]!==x?(be=x?m.jsx(r("MWV2ReportMessageMenuItem.react"),{message:C}):null,a[49]=C,a[50]=x,a[51]=be):be=a[51];var ve;a[52]!==C.messageId||a[53]!==C.threadKey||a[54]!==$||a[55]!==H?(ve=$?m.jsx(r("MWV2ReportMessageToFBMenuItem.react"),{isSubthread:o("LSMessagingThreadTypeUtil").isCMSubthread(H),menuItemLabel:s._(/*BTDS*/"\u0391\u03bd\u03b1\u03c6\u03bf\u03c1\u03ac"),messageId:C.messageId,threadKey:C.threadKey}):null,a[52]=C.messageId,a[53]=C.threadKey,a[54]=$,a[55]=H,a[56]=ve):ve=a[56];var Se;a[57]!==C.messageId||a[58]!==C.threadKey||a[59]!==P||a[60]!==H?(Se=P?m.jsx(r("MWV2GlobalReportMessageMenuItem.react"),{messageId:C.messageId,threadKey:C.threadKey,threadType:H}):null,a[57]=C.messageId,a[58]=C.threadKey,a[59]=P,a[60]=H,a[61]=Se):Se=a[61];var Re;a[62]!==h||a[63]!==ue||a[64]!==C||a[65]!==de||a[66]!==me?(Re=ue&&n("cr:12502")!=null&&h?m.jsxs(m.Fragment,{children:[m.jsx(r("FDSMenuSeparator.react"),{}),m.jsx(n("cr:12502"),{message:C,messageKeys:de,reactionsKeys:me})]}):null,a[62]=h,a[63]=ue,a[64]=C,a[65]=de,a[66]=me,a[67]=Re):Re=a[67];var Le;a[68]!==C?(Le=n("cr:5790")?m.jsx(n("cr:5790"),{message:C}):null,a[68]=C,a[69]=Le):Le=a[69];var Ee;a[70]!==g||a[71]!==re||a[72]!==C?(Ee=n("cr:2243")!=null&&!g&&re&&m.jsx(n("cr:2243"),{message:C}),a[70]=g,a[71]=re,a[72]=C,a[73]=Ee):Ee=a[73];var ke;a[74]!==C||a[75]!==E?(ke=n("cr:1200")!=null&&E&&m.jsx(n("cr:1200"),{message:C}),a[74]=C,a[75]=E,a[76]=ke):ke=a[76];var Ie;a[77]!==C||a[78]!==E?(Ie=n("cr:1111")!=null&&E&&m.jsx(n("cr:1111"),{message:C}),a[77]=C,a[78]=E,a[79]=Ie):Ie=a[79];var Te;a[80]!==C||a[81]!==R?(Te=r("BusinessMessagePositiveFeedbackMenuItem.react")!=null&&R&&m.jsx(r("BusinessMessagePositiveFeedbackMenuItem.react"),{message:C}),a[80]=C,a[81]=R,a[82]=Te):Te=a[82];var De;a[83]!==C||a[84]!==R?(De=r("BusinessMessageNegativeFeedbackMenuItem.react")!=null&&R&&m.jsx(r("BusinessMessageNegativeFeedbackMenuItem.react"),{message:C}),a[83]=C,a[84]=R,a[85]=De):De=a[85];var xe;a[86]!==i||a[87]!==C?(xe=n("cr:4140")?m.jsxs(m.Fragment,{children:[r("gkx")("731")?m.jsx(r("FDSMenuSeparator.react"),{}):null,m.jsx(n("cr:4140"),{attachment:i,message:C})]}):null,a[86]=i,a[87]=C,a[88]=xe):xe=a[88];var $e;return a[89]!==f||a[90]!==ge||a[91]!==he||a[92]!==ye||a[93]!==Ce||a[94]!==be||a[95]!==ve||a[96]!==Se||a[97]!==Re||a[98]!==Le||a[99]!==Ee||a[100]!==ke||a[101]!==Ie||a[102]!==Te||a[103]!==De||a[104]!==xe||a[105]!==pe||a[106]!==_e||a[107]!==fe?($e=m.jsx(r("MWXPopover.react"),{role:"menu",withArrow:!0,children:m.jsx(o("MWChatMessageBothOrientationFocusGroup.react").keyCommands,{children:m.jsx(o("MWChatMessageBothOrientationFocusGroup.react").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,children:m.jsx(r("MWXMenu.react"),{"aria-label":te,size:"full",truncate:!0,children:m.jsxs(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_view_message_options",children:[pe,_e,fe,ge,he,ye,Ce,be,ve,Se,Re,Le,Ee,ke,Ie,Te,De,f,xe]})})})})}),a[89]=f,a[90]=ge,a[91]=he,a[92]=ye,a[93]=Ce,a[94]=be,a[95]=ve,a[96]=Se,a[97]=Re,a[98]=Le,a[99]=Ee,a[100]=ke,a[101]=Ie,a[102]=Te,a[103]=De,a[104]=xe,a[105]=pe,a[106]=_e,a[107]=fe,a[108]=$e):$e=a[108],$e}l.default=f}),226);
__d("MWV2NegativeFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useGenAiNegativeFeedback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=r("useGenAiNegativeFeedback")(n),i=a[0],l=a[1],u;return t[0]!==i||t[1]!==l?(u=s.jsx(r("MWXMenuItem.react"),{"aria-label":l,onClick:i,primaryText:l,testid:void 0}),t[0]=i,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("MWV2PositiveFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useGenAiPositiveFeedback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=r("useGenAiPositiveFeedback")(n),i=a[0],l=a[1],u;return t[0]!==i||t[1]!==l?(u=s.jsx(r("MWXMenuItem.react"),{"aria-label":l,onClick:i,primaryText:l,testid:void 0}),t[0]=i,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("MessageThreadEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5034"),s=o("FalcoLoggerInternal").create("message_thread_events",e),u=s;l.default=u}),98);
__d("MessengerDiscoverableChatClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1254"),s=o("FalcoLoggerInternal").create("messenger_discoverable_chat_client_events",e),u=s;l.default=u}),98);
__d("MessengerGroupCreationEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6706"),s=o("FalcoLoggerInternal").create("messenger_group_creation_events",e),u=s;l.default=u}),98);
__d("MetaAiIntentsImageEditingEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5317"),s=o("FalcoLoggerInternal").create("meta_ai_intents_image_editing_events",e),u=s;l.default=u}),98);